!function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.m_Position={x:t.x+n.width/2-5,y:t.y},this.m_Dimension={width:10,height:10},this.m_FillStyle="rgb(200,200,28)",this.m_CanApplyForce=!0,this.m_Alive=!0,this.m_XSpeed=4*Math.random()-2,this.m_YSpeed=5*Math.random()}return o(e,[{key:"update",value:function(){this.m_Position.x+=this.m_XSpeed,this.m_Position.y+=this.m_YSpeed,this.m_Position.x-(this.m_Dimension.width+20)>640?this.m_Alive=!1:this.m_Position.x+(this.m_Dimension.width-20)<0?this.m_Alive=!1:this.m_Position.y-(this.m_Dimension.height+20)>720?this.m_Alive=!1:this.m_Position.y+(this.m_Dimension.height-20)<0&&(this.m_Alive=!1)}}]),e}();n.Bullet=r},{}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.m_Canvas=document.getElementById("m_Canvas"),this.m_Context=this.m_Canvas.getContext("2d")}return o(e,[{key:"clearDraw",value:function(){this.m_Context.clearRect(0,0,1280,720)}},{key:"draw",value:function(e,t){this.m_Context.fillRect(e.x,e.y,t.width,t.height)}}]),e}();n.CanvasView=r},{}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return o(e,[{key:"AABB",value:function(e,t){var n=!1;return e<=t.x+t.width&&t<=e.x+e.width&&e<=t.y+t.height&&t<=e.y+e.height&&(n=!0),console.log(n),n}},{key:"update",value:function(e,t){for(var n in t){var i=t[n];this.AABB(e.m_Rect,i.m_Rect)&&t.splice(n,1)}}}]),e}();n.CollisionManager=r},{}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Controller=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./KeyView.es6"),s=e("./Player.es6"),a=e("./EnemyManager.es6"),u=e("./CanvasView.es6"),h=e("./CollisionManager.es6"),l=function(){function e(){i(this,e),this.m_Player=new s.Player,this.m_KeyView=new r.KeyView(this),this.m_KeyView.m_KeyListener=this.update,this.m_KeyView.m_KeyListener.bind(this),this.m_CanvasView=new u.CanvasView,this.m_EnemyManager=new a.EnemyManager,this.m_CollisionManager=new h.CollisionManager,this.loop()}return o(e,[{key:"update",value:function(e,t){t.m_Player.move(e)}},{key:"loop",value:function(){var e=this.m_EnemyManager.m_Enemies;self=this,this.m_Player.update(),this.m_EnemyManager.update(this.m_Player),this.m_CanvasView.clearDraw(),this.m_CanvasView.draw(this.m_Player.m_Position,this.m_Player.m_Dimension);for(var t in e){var n=e[t];this.m_CanvasView.draw(n.m_Position,n.m_Dimension);for(var i in n.m_Bullets){var o=n.m_Bullets[i];o.m_Alive||n.m_Bullets.splice(i,1),this.m_CanvasView.draw(o.m_Position,o.m_Dimension)}}this.m_CollisionManager.update(this.m_Player,e),window.requestAnimationFrame(function(){self.loop()})}}]),e}();n.Controller=l},{"./CanvasView.es6":2,"./CollisionManager.es6":3,"./EnemyManager.es6":6,"./KeyView.es6":7,"./Player.es6":8}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Enemy=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./Bullet.es6"),s=function(){function e(t){i(this,e),this.m_Position=t,this.m_Dimension={width:40,height:40},this.m_Rect={x:this.m_Position.x,y:this.m_Position.y,width:this.m_Dimension.width,height:this.m_Dimension.height},this.m_Width=20,this.m_Height=40,this.m_Bullets=[],this.m_ApplyForceTimer=0,this.m_Spawn=!0,this.m_ShootTimer=0,this.m_TriggerTimer=0,this.m_BulletCounter=0,this.m_CanShoot=!0}return o(e,[{key:"add",value:function(e,t){var n={x:e.x+t.x,y:e.y+t.y};return n}},{key:"sub",value:function(e,t){var n={x:e.x-t.x,y:e.y-t.y};return n}},{key:"normalize",value:function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y),n={x:e.x/t,y:e.y/t};return n}},{key:"length",value:function e(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return e}},{key:"setRect",value:function(){this.m_Rect={x:this.m_Position.x,y:this.m_Position.y,width:this.m_Dimension.width,height:this.m_Dimension.height}}},{key:"shootBullet",value:function(){if(this.m_ShootTimer++,this.m_BulletCounter>=20&&(this.m_CanShoot=!1,this.m_ShootTimer=0,this.m_BulletCounter=0),100==this.m_ShootTimer&&(this.m_CanShoot=!0),this.m_CanShoot&&(this.m_TriggerTimer++,this.m_TriggerTimer>=10)){var e=new r.Bullet(this.m_Position,this.m_Dimension);this.m_Bullets.push(e),this.m_TriggerTimer=0,this.m_BulletCounter++}}},{key:"update",value:function(e){this.setRect(),this.shootBullet();for(var t in this.m_Bullets){var n=this.m_Bullets[t];n.update()}}}]),e}();n.Enemy=s},{"./Bullet.es6":1}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EnemyManager=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./Enemy.es6"),s=function(){function e(t){i(this,e),this.m_EnemySpawnTimer=0,this.m_EnemySpawnTimerMax=100,this.m_Enemies=[]}return o(e,[{key:"update",value:function(e){this.m_EnemySpawnTimer++,100==this.m_EnemySpawnTimer&&this.spawnEnemy();for(var t in this.m_Enemies){var n=this.m_Enemies[t];n.update(e)}}},{key:"spawnEnemy",value:function(){var e=(10*Math.random(),{x:0,y:0});e.x=500*Math.random(),e.y=500*Math.random(),this.m_Enemies.push(new r.Enemy(e))}}]),e}();n.EnemyManager=s},{"./Enemy.es6":5}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){var n=this;i(this,e),window.onkeydown=function(e){n.onKeyDown(e,t)},this.m_KeyListener}return o(e,[{key:"onKeyDown",value:function(e,t){console.log(e.keyCode);var n={left:37===e.keyCode||65===e.keyCode,right:39===e.keyCode||68===e.keyCode,up:38===e.keyCode||87===e.keyCode,down:40===e.keyCode||83===e.keyCode,space:32===e.keyCode};this.m_KeyListener(n,t)}}]),e}();n.KeyView=r},{}],8:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Player=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(e("./Bullet.es6"),function(){function e(t){i(this,e),this.m_Position={x:200,y:200},this.m_Dimension={width:20,height:20},this.m_Rect={x:this.m_Position.x,y:this.m_Position.y,width:this.m_Dimension.width,height:this.m_Dimension.height},this.m_MoveForce=.003,this.m_Speed=5,this.m_State="Idle",this.m_Bullets=[],this.m_FillStyle="rgb(200,200,28)",this.m_CanApplyForce=!0}return o(e,[{key:"length",value:function e(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return e}},{key:"update",value:function(){this.m_Rect={x:this.m_Position.x,y:this.m_Position.y,width:this.m_Dimension.width,height:this.m_Dimension.height}}},{key:"move",value:function(e){e.right&&this.m_CanApplyForce&&(this.m_Position.x+=this.m_Speed),e.left&&this.m_CanApplyForce&&(this.m_Position.x-=this.m_Speed),e.up&&this.m_CanApplyForce&&(this.m_Position.y-=this.m_Speed),e.down&&this.m_CanApplyForce&&(this.m_Position.y+=this.m_Speed),e.space&&this.shootBullet()}},{key:"shootBullet",value:function(){}}]),e}());n.Player=r},{"./Bullet.es6":1}],9:[function(e,t,n){"use strict";var i=e("./Controller.es6");document.addEventListener("DOMContentLoaded",function(){new i.Controller})},{"./Controller.es6":4}]},{},[9]);
//# sourceMappingURL=script.js.map
