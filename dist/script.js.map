{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Bullet","a_Posistion","this","console","log","m_Position","m_Dimension","width","height","m_Width","m_Height","m_Bullets","m_FillStyle","m_CanApplyForce","a_Context","y","2","CanvasView","m_Canvas","document","getElementById","m_Context","getContext","clearRect","a_Pos","a_Dimensions","fillRect","x","3","CollisionManager","a_RectA","a_RectB","a_Player","a_Enemies","enemy","AABB","m_Rect","splice","4","Controller","undefined","_KeyView","_Player","_EnemyManager","_CanvasView","_CollisionManager","m_Player","Player","m_KeyView","KeyView","m_KeyListener","update","bind","m_CanvasView","m_EnemyManager","EnemyManager","m_CollisionManager","loop","a_Keys","a_Self","move","enemies","m_Enemies","self","clearDraw","draw","j","bullet","window","requestAnimationFrame","./CanvasView.es6","./CollisionManager.es6","./EnemyManager.es6","./KeyView.es6","./Player.es6","5","Enemy","a_Position","m_ApplyForceTimer","m_Spawn","m_BulletTimer","PosA","PosB","returnValue","a_Vector","Math","sqrt","push","6","_Enemy","a_MatterEngine","m_EnemySpawnTimer","m_EnemySpawnTimerMax","spawnEnemy","ranPos","random","enemyPos","./Enemy.es6","7","a_Controller","_this","onkeydown","onKeyDown","keyCode","keys","left","right","up","down","space","8","m_MoveForce","m_Speed","m_State","shootBullet","./Bullet.es6","9","_Controller","addEventListener","./Controller.es6"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bullet = function () {\n    function Bullet(a_Posistion) {\n        _classCallCheck(this, Bullet);\n\n        console.log(a_Posistion);\n        this.m_Position = a_Posistion;\n        this.m_Dimension = { width: 10, height: 10 };\n        this.m_Width = 20;\n        this.m_Height = 20;\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n    }\n\n    _createClass(Bullet, [{\n        key: \"draw\",\n        value: function draw(a_Context) {}\n    }, {\n        key: \"update\",\n        value: function update() {\n            // switch(this.m_State)\n            // {\n            //\n            // }\n\n\n            this.m_Position.y += 3;\n        }\n    }]);\n\n    return Bullet;\n}();\n\nexports.Bullet = Bullet;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasView = function () {\n    function CanvasView() {\n        _classCallCheck(this, CanvasView);\n\n        this.m_Canvas = document.getElementById(\"m_Canvas\");\n        this.m_Context = this.m_Canvas.getContext(\"2d\");\n    }\n\n    _createClass(CanvasView, [{\n        key: \"clearDraw\",\n        value: function clearDraw() {\n            this.m_Context.clearRect(0, 0, 1280, 720);\n        }\n    }, {\n        key: \"draw\",\n        value: function draw(a_Pos, a_Dimensions) {\n            this.m_Context.fillRect(a_Pos.x, a_Pos.y, a_Dimensions.width, a_Dimensions.height);\n        }\n    }]);\n\n    return CanvasView;\n}();\n\nexports.CanvasView = CanvasView;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\nupdate player collide with enemy\r\n\r\naxis aligned bounding box\r\n\r\n2 boxen die overlappen, en dan iets laten gebeuren\r\n */\n\nvar CollisionManager = function () {\n    function CollisionManager() {\n        //..\n\n        _classCallCheck(this, CollisionManager);\n    }\n\n    _createClass(CollisionManager, [{\n        key: \"AABB\",\n        value: function AABB(a_RectA, a_RectB) {\n            return a_RectA <= a_RectB.x + a_RectB.width && a_RectB <= a_RectA.x + a_RectA.width && a_RectA <= a_RectB.y + a_RectB.height && a_RectB <= a_RectA.y + a_RectA.height;\n        }\n    }, {\n        key: \"update\",\n        value: function update(a_Player, a_Enemies) {\n            for (var i in a_Enemies) {\n\n                var enemy = a_Enemies[i];\n                if (this.AABB(a_Player.m_Rect, enemy.m_Rect)) {\n                    a_Enemies.splice(i, 1);\n                    //player loses 1 life\n                    //start healthFeedback()\n                }\n            }\n        }\n    }]);\n\n    return CollisionManager;\n}();\n\nexports.CollisionManager = CollisionManager;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Controller = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _KeyView = require('./KeyView.es6');\n\nvar _Player = require('./Player.es6');\n\nvar _EnemyManager = require('./EnemyManager.es6');\n\nvar _CanvasView = require('./CanvasView.es6');\n\nvar _CollisionManager = require('./CollisionManager.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.m_Player = new _Player.Player(); //CHANGE TO m_MATTERENGINE\n        this.m_KeyView = new _KeyView.KeyView(this);\n        this.m_KeyView.m_KeyListener = this.update;\n        this.m_KeyView.m_KeyListener.bind(this); //callback\n        this.m_CanvasView = new _CanvasView.CanvasView();\n        this.m_EnemyManager = new _EnemyManager.EnemyManager();\n        this.m_CollisionManager = new _CollisionManager.CollisionManager();\n        this.loop();\n    }\n\n    _createClass(Controller, [{\n        key: 'update',\n        value: function update(a_Keys, a_Self) {\n            a_Self.m_Player.move(a_Keys);\n        }\n    }, {\n        key: 'loop',\n        value: function loop() {\n            var enemies = this.m_EnemyManager.m_Enemies;\n            self = this;\n            this.m_Player.update();\n            this.m_EnemyManager.update(this.m_Player);\n            this.m_CanvasView.clearDraw();\n            this.m_CanvasView.draw(this.m_Player.m_Position, this.m_Player.m_Dimension);\n            for (var i in enemies) {\n                var enemy = enemies[i];\n                this.m_CanvasView.draw(enemy.m_Position, enemy.m_Dimension);\n                for (var j in enemy.m_Bullets) {\n                    var bullet = enemy.m_Bullets[j];\n                    this.m_CanvasView.draw(bullet.m_Position, bullet.m_Dimension);\n                }\n            }\n\n            this.m_CollisionManager.update(this.m_Player, enemies);\n\n            window.requestAnimationFrame(function () {\n                self.loop();\n            });\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.Controller = Controller;\n\n},{\"./CanvasView.es6\":2,\"./CollisionManager.es6\":3,\"./EnemyManager.es6\":6,\"./KeyView.es6\":7,\"./Player.es6\":8}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Enemy = function () {\n    //Enemy constructor\n    function Enemy(a_Position) {\n        _classCallCheck(this, Enemy);\n\n        this.m_Position = a_Position;\n        this.m_Dimension = { width: 40, height: 40 };\n        this.m_Width = 20;\n        this.m_Height = 40;\n        this.m_Bullets = [];\n        this.m_ApplyForceTimer = 0;\n        this.m_Spawn = true;\n        this.m_BulletTimer = 0;\n    }\n\n    _createClass(Enemy, [{\n        key: \"add\",\n        value: function add(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x + PosB.x,\n                y: PosA.y + PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"sub\",\n        value: function sub(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x - PosB.x,\n                y: PosA.y - PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"normalize\",\n        value: function normalize(a_Vector) {\n\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n\n            var returnValue = {\n                x: a_Vector.x / length,\n                y: a_Vector.y / length\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"update\",\n        value: function update(a_Player) {\n            this.m_BulletTimer++;\n            if (this.m_BulletTimer == 100) {\n                console.log(\"shoot\");\n                for (var i = 0; i < 20; i++) {\n                    console.log(this.m_Position);\n                    this.m_Bullets.push(this.m_Position);\n                }\n            }\n        }\n    }]);\n\n    return Enemy;\n}();\n\nexports.Enemy = Enemy;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.EnemyManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Enemy = require('./Enemy.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EnemyManager = function () {\n    function EnemyManager(a_MatterEngine) {\n        _classCallCheck(this, EnemyManager);\n\n        this.m_EnemySpawnTimer = 0;\n        this.m_EnemySpawnTimerMax = 100;\n        this.m_Enemies = [];\n    }\n\n    _createClass(EnemyManager, [{\n        key: 'update',\n        value: function update(a_Player) {\n            this.m_EnemySpawnTimer++;\n\n            if (this.m_EnemySpawnTimer == 100) {\n                {\n                    this.spawnEnemy();\n                    //this.m_EnemySpawnTimer = 0;\n                }\n            }\n            for (var i in this.m_Enemies) {\n                var enemy = this.m_Enemies[i];\n                enemy.update(a_Player);\n            }\n        }\n    }, {\n        key: 'spawnEnemy',\n        value: function spawnEnemy() {\n            var ranPos = Math.random() * 10;\n            var enemyPos = { x: 0, y: 0 };\n            if (ranPos >= 0 && ranPos < 2.5) //RIGHT\n                {\n                    enemyPos.x = 520;\n                    enemyPos.y = Math.random() * 500;\n                } else if (ranPos >= 2.5 && ranPos < 5) //LEFT\n                {\n                    enemyPos.x = -20;\n                    enemyPos.y = Math.random() * 500;\n                } else if (ranPos >= 5 && ranPos < 7.5) //TOP\n                {\n                    enemyPos.x = Math.random() * 500;\n                    enemyPos.y = -20;\n                } else if (ranPos >= 7.5 && ranPos < 10) //DOWN\n                {\n                    enemyPos.x = Math.random() * 500;\n                    enemyPos.y = 520;\n                }\n            this.m_Enemies.push(new _Enemy.Enemy(enemyPos));\n        }\n    }]);\n\n    return EnemyManager;\n}();\n\nexports.EnemyManager = EnemyManager;\n\n},{\"./Enemy.es6\":5}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KeyView = function () {\n    function KeyView(a_Controller) {\n        var _this = this;\n\n        _classCallCheck(this, KeyView);\n\n        window.onkeydown = function (e) {\n            _this.onKeyDown(e, a_Controller);\n        };\n        this.m_KeyListener;\n    }\n\n    _createClass(KeyView, [{\n        key: \"onKeyDown\",\n        value: function onKeyDown(e, a) {\n            console.log(e.keyCode);\n            var keys = {\n                left: e.keyCode === 37 || e.keyCode === 65, //true or false\n                right: e.keyCode === 39 || e.keyCode === 68, //true or false\n                up: e.keyCode === 38 || e.keyCode === 87, //true or false\n                down: e.keyCode === 40 || e.keyCode === 83, //true or false\n                space: e.keyCode === 32 //true or false\n            };\n            this.m_KeyListener(keys, a);\n        }\n    }]);\n\n    return KeyView;\n}();\n\nexports.KeyView = KeyView;\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Player = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bullet = require(\"./Bullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(a_MatterEngine) {\n        _classCallCheck(this, Player);\n\n        this.m_Position = { x: 200, y: 200 };\n        this.m_Dimension = { width: 20, height: 20 };\n        this.m_Rect = {\n            x: this.m_Position.x,\n            y: this.m_Position.y,\n            width: this.m_Dimension.width,\n            height: this.m_Dimension.height\n        };\n        //this.m_Width = 20;\n        //this.m_Height = 20;\n        this.m_MoveForce = 0.003;\n        this.m_Speed = 5;\n        this.m_State = \"Idle\";\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n        //this.m_RotateForce = 0.1;\n    }\n\n    _createClass(Player, [{\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            this.m_Rect = {\n                x: this.m_Position.x,\n                y: this.m_Position.y,\n                width: this.m_Dimension.width,\n                height: this.m_Dimension.height\n            };\n        }\n    }, {\n        key: \"move\",\n        value: function move(a_Keys) {\n            if (a_Keys.right && this.m_CanApplyForce) {\n                this.m_Position.x += this.m_Speed;\n            }\n            if (a_Keys.left && this.m_CanApplyForce) {\n                this.m_Position.x -= this.m_Speed;\n            }\n            if (a_Keys.up && this.m_CanApplyForce) {\n                this.m_Position.y -= this.m_Speed;\n            }\n            if (a_Keys.down && this.m_CanApplyForce) {\n                this.m_Position.y += this.m_Speed;\n            }\n            if (a_Keys.space) {\n                this.shootBullet();\n            }\n        }\n    }, {\n        key: \"shootBullet\",\n        value: function shootBullet() {}\n    }]);\n\n    return Player;\n}();\n\nexports.Player = Player;\n\n},{\"./Bullet.es6\":1}],9:[function(require,module,exports){\n\"use strict\";\n\nvar _Controller = require(\"./Controller.es6\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var m_Controller = new _Controller.Controller();\n});\n\n},{\"./Controller.es6\":4}]},{},[9])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxCdWxsZXQuZXM2Iiwic3JjXFxqc1xcQ2FudmFzVmlldy5lczYiLCJzcmNcXGpzXFxDb2xsaXNpb25NYW5hZ2VyLmVzNiIsInNyY1xcanNcXENvbnRyb2xsZXIuZXM2Iiwic3JjXFxqc1xcRW5lbXkuZXM2Iiwic3JjXFxqc1xcRW5lbXlNYW5hZ2VyLmVzNiIsInNyY1xcanNcXEtleVZpZXcuZXM2Iiwic3JjXFxqc1xcUGxheWVyLmVzNiIsInNyY1xcanNcXHNjcmlwdC5lczYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQU0sTTtBQUVGLG9CQUFZLFdBQVosRUFDQTtBQUFBOztBQUNJLGdCQUFRLEdBQVIsQ0FBWSxXQUFaO0FBQ0EsYUFBSyxVQUFMLEdBQWtCLFdBQWxCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLEVBQUMsT0FBTyxFQUFSLEVBQVksUUFBUSxFQUFwQixFQUFuQjtBQUNBLGFBQUssT0FBTCxHQUFlLEVBQWY7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxhQUFLLFNBQUwsR0FBaUIsRUFBakI7QUFDQSxhQUFLLFdBQUwsR0FBbUIsaUJBQW5CO0FBQ0EsYUFBSyxlQUFMLEdBQXVCLElBQXZCO0FBQ0g7Ozs7NkJBRUksUyxFQUNMLENBRUM7OztpQ0FHRDtBQUNJO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxpQkFBSyxVQUFMLENBQWdCLENBQWhCLElBQW1CLENBQW5CO0FBRUg7Ozs7OztRQUlHLE0sR0FBQSxNOzs7Ozs7Ozs7Ozs7O0lDakNGLFU7QUFFRiwwQkFDQTtBQUFBOztBQUNJLGFBQUssUUFBTCxHQUFnQixTQUFTLGNBQVQsQ0FBd0IsVUFBeEIsQ0FBaEI7QUFDQSxhQUFLLFNBQUwsR0FBaUIsS0FBSyxRQUFMLENBQWMsVUFBZCxDQUF5QixJQUF6QixDQUFqQjtBQUNIOzs7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QUFpQixLQUhkO0FBSVYsd0JBQVEsS0FBSyxXQUFMLENBQWlCO0FBSmYsYUFBZDtBQU1IOzs7NkJBRUksTSxFQUNMO0FBQ0ksZ0JBQUcsT0FBTyxLQUFQLElBQWdCLEtBQUssZUFBeEIsRUFDQTtBQUNJLHFCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxPQUExQjtBQUNIO0FBQ0QsZ0JBQUcsT0FBTyxJQUFQLElBQWUsS0FBSyxlQUF2QixFQUNBO0FBQ0kscUJBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLE9BQTFCO0FBQ0g7QUFDRCxnQkFBRyxPQUFPLEVBQVAsSUFBYSxLQUFLLGVBQXJCLEVBQ0E7QUFDSSxxQkFBSyxVQUFMLENBQWdCLENBQWhCLElBQXFCLEtBQUssT0FBMUI7QUFDSDtBQUNELGdCQUFHLE9BQU8sSUFBUCxJQUFlLEtBQUssZUFBdkIsRUFDQTtBQUNJLHFCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxPQUExQjtBQUNIO0FBQ0QsZ0JBQUcsT0FBTyxLQUFWLEVBQ0E7QUFDSSxxQkFBSyxXQUFMO0FBQ0g7QUFDSjs7O3NDQUdELENBRUM7Ozs7OztRQUlHLE0sR0FBQSxNOzs7OztBQ3hFUjs7QUFFQSxTQUFTLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFLO0FBQy9DLFFBQU0sZUFBZSw0QkFBckI7QUFDSCxDQUZEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNsYXNzIEJ1bGxldFxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX1Bvc2lzdGlvbilcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhhX1Bvc2lzdGlvbik7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uID0gYV9Qb3Npc3Rpb247XHJcbiAgICAgICAgdGhpcy5tX0RpbWVuc2lvbiA9IHt3aWR0aDogMTAsIGhlaWdodDogMTB9O1xyXG4gICAgICAgIHRoaXMubV9XaWR0aCA9IDIwO1xyXG4gICAgICAgIHRoaXMubV9IZWlnaHQgPSAyMDtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMubV9GaWxsU3R5bGUgPSBcInJnYigyMDAsMjAwLDI4KVwiO1xyXG4gICAgICAgIHRoaXMubV9DYW5BcHBseUZvcmNlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGFfQ29udGV4dClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICAvLyBzd2l0Y2godGhpcy5tX1N0YXRlKVxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMubV9Qb3NpdGlvbi55Kz0zO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7QnVsbGV0fTsiLCJjbGFzcyBDYW52YXNWaWV3XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tX0NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibV9DYW52YXNcIik7XG4gICAgICAgIHRoaXMubV9Db250ZXh0ID0gdGhpcy5tX0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgfVxuXG4gICAgY2xlYXJEcmF3KClcbiAgICB7XG4gICAgICAgIHRoaXMubV9Db250ZXh0LmNsZWFyUmVjdCgwLCAwLCAxMjgwLCA3MjApO1xuICAgIH1cblxuICAgIGRyYXcoYV9Qb3MsIGFfRGltZW5zaW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMubV9Db250ZXh0LmZpbGxSZWN0KGFfUG9zLngsIGFfUG9zLnksIGFfRGltZW5zaW9ucy53aWR0aCwgYV9EaW1lbnNpb25zLmhlaWdodCk7XG4gICAgfVxufVxuXG5leHBvcnQge0NhbnZhc1ZpZXd9IiwiLypcclxudXBkYXRlIHBsYXllciBjb2xsaWRlIHdpdGggZW5lbXlcclxuXHJcbmF4aXMgYWxpZ25lZCBib3VuZGluZyBib3hcclxuXHJcbjIgYm94ZW4gZGllIG92ZXJsYXBwZW4sIGVuIGRhbiBpZXRzIGxhdGVuIGdlYmV1cmVuXHJcbiAqL1xyXG5cclxuY2xhc3MgQ29sbGlzaW9uTWFuYWdlclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgLy8uLlxyXG4gICAgfVxyXG5cclxuICAgIEFBQkIoYV9SZWN0QSwgYV9SZWN0QilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gKGFfUmVjdEEgPD0gYV9SZWN0Qi54ICsgYV9SZWN0Qi53aWR0aCAmJlxyXG4gICAgICAgICAgICAgICAgYV9SZWN0Qjw9IGFfUmVjdEEueCArIGFfUmVjdEEud2lkdGggJiZcclxuICAgICAgICAgICAgICAgIGFfUmVjdEEgPD0gYV9SZWN0Qi55ICsgYV9SZWN0Qi5oZWlnaHQgJiZcclxuICAgICAgICAgICAgICAgIGFfUmVjdEIgPD0gYV9SZWN0QS55ICsgYV9SZWN0QS5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShhX1BsYXllciwgYV9FbmVtaWVzKVxyXG4gICAge1xyXG4gICAgICAgIGZvcihsZXQgaSBpbiBhX0VuZW1pZXMpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZW15ID0gYV9FbmVtaWVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5BQUJCKGFfUGxheWVyLm1fUmVjdCwgZW5lbXkubV9SZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgYV9FbmVtaWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vcGxheWVyIGxvc2VzIDEgbGlmZVxyXG4gICAgICAgICAgICAgICAgLy9zdGFydCBoZWFsdGhGZWVkYmFjaygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29sbGlzaW9uTWFuYWdlcn07IiwiaW1wb3J0IHtLZXlWaWV3fSBmcm9tICcuL0tleVZpZXcuZXM2JztcclxuaW1wb3J0IHtQbGF5ZXJ9IGZyb20gJy4vUGxheWVyLmVzNic7XHJcbmltcG9ydCB7RW5lbXlNYW5hZ2VyfSBmcm9tICcuL0VuZW15TWFuYWdlci5lczYnO1xyXG5pbXBvcnQge0NhbnZhc1ZpZXd9IGZyb20gJy4vQ2FudmFzVmlldy5lczYnO1xyXG5pbXBvcnQge0NvbGxpc2lvbk1hbmFnZXJ9IGZyb20gJy4vQ29sbGlzaW9uTWFuYWdlci5lczYnO1xyXG5cclxuY2xhc3MgQ29udHJvbGxlclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX1BsYXllciA9IG5ldyBQbGF5ZXIoKTsgLy9DSEFOR0UgVE8gbV9NQVRURVJFTkdJTkVcclxuICAgICAgICB0aGlzLm1fS2V5VmlldyA9IG5ldyBLZXlWaWV3KHRoaXMpO1xyXG4gICAgICAgIHRoaXMubV9LZXlWaWV3Lm1fS2V5TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZTtcclxuICAgICAgICB0aGlzLm1fS2V5Vmlldy5tX0tleUxpc3RlbmVyLmJpbmQodGhpcyk7Ly9jYWxsYmFja1xyXG4gICAgICAgIHRoaXMubV9DYW52YXNWaWV3ID0gbmV3IENhbnZhc1ZpZXcoKTtcclxuICAgICAgICB0aGlzLm1fRW5lbXlNYW5hZ2VyID0gbmV3IEVuZW15TWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMubV9Db2xsaXNpb25NYW5hZ2VyID0gbmV3IENvbGxpc2lvbk1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9LZXlzLCBhX1NlbGYpXHJcbiAgICB7XHJcbiAgICAgICAgYV9TZWxmLm1fUGxheWVyLm1vdmUoYV9LZXlzKTtcclxuICAgIH1cclxuXHJcbiAgICBsb29wKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBlbmVtaWVzID0gdGhpcy5tX0VuZW15TWFuYWdlci5tX0VuZW1pZXM7XHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5tX1BsYXllci51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLm1fRW5lbXlNYW5hZ2VyLnVwZGF0ZSh0aGlzLm1fUGxheWVyKTtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5jbGVhckRyYXcoKTtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KHRoaXMubV9QbGF5ZXIubV9Qb3NpdGlvbiwgdGhpcy5tX1BsYXllci5tX0RpbWVuc2lvbik7XHJcbiAgICAgICAgZm9yKGxldCBpIGluIGVuZW1pZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBlbmVteSA9IGVuZW1pZXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMubV9DYW52YXNWaWV3LmRyYXcoZW5lbXkubV9Qb3NpdGlvbiwgZW5lbXkubV9EaW1lbnNpb24pO1xyXG4gICAgICAgICAgICBmb3IobGV0IGogaW4gZW5lbXkubV9CdWxsZXRzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWxsZXQgPSBlbmVteS5tX0J1bGxldHNbal07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KGJ1bGxldC5tX1Bvc2l0aW9uLCBidWxsZXQubV9EaW1lbnNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1fQ29sbGlzaW9uTWFuYWdlci51cGRhdGUodGhpcy5tX1BsYXllciwgZW5lbWllcyk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICBzZWxmLmxvb3AoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDb250cm9sbGVyfSIsImNsYXNzIEVuZW15IHtcclxuICAgIC8vRW5lbXkgY29uc3RydWN0b3JcclxuICAgIGNvbnN0cnVjdG9yKGFfUG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSBhX1Bvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMubV9EaW1lbnNpb24gPSB7d2lkdGg6IDQwLCBoZWlnaHQ6IDQwfTtcclxuICAgICAgICB0aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICB0aGlzLm1fSGVpZ2h0ID0gNDA7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fQXBwbHlGb3JjZVRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1fU3Bhd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9CdWxsZXRUaW1lciA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKFBvc0EsIFBvc0IpIHtcclxuXHJcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHg6IFBvc0EueCArIFBvc0IueCxcclxuICAgICAgICAgICAgeTogUG9zQS55ICsgUG9zQi55XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdWIoUG9zQSwgUG9zQikge1xyXG5cclxuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgeDogUG9zQS54IC0gUG9zQi54LFxyXG4gICAgICAgICAgICB5OiBQb3NBLnkgLSBQb3NCLnlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKGFfVmVjdG9yKVxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQoYV9WZWN0b3IueCogYV9WZWN0b3IueCArIGFfVmVjdG9yLnkqYV9WZWN0b3IueSk7XHJcblxyXG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB4OiBhX1ZlY3Rvci54L2xlbmd0aCxcclxuICAgICAgICAgICAgeTogYV9WZWN0b3IueS9sZW5ndGhcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aChhX1ZlY3RvcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQoYV9WZWN0b3IueCogYV9WZWN0b3IueCArIGFfVmVjdG9yLnkqYV9WZWN0b3IueSk7XHJcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9QbGF5ZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldFRpbWVyKys7XHJcbiAgICAgICAgaWYodGhpcy5tX0J1bGxldFRpbWVyID09IDEwMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hvb3RcIilcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDIwOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubV9Qb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQnVsbGV0cy5wdXNoKHRoaXMubV9Qb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RW5lbXl9OyIsImltcG9ydCB7RW5lbXl9IGZyb20gJy4vRW5lbXkuZXM2JztcclxuXHJcbmNsYXNzIEVuZW15TWFuYWdlclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX01hdHRlckVuZ2luZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fRW5lbXlTcGF3blRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1fRW5lbXlTcGF3blRpbWVyTWF4ID0gMTAwO1xyXG4gICAgICAgIHRoaXMubV9FbmVtaWVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGFfUGxheWVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXIrKztcclxuXHJcbiAgICAgICAgaWYodGhpcy5tX0VuZW15U3Bhd25UaW1lciA9PSAxMDApe1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zcGF3bkVuZW15KCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5tX0VuZW15U3Bhd25UaW1lciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMubV9FbmVtaWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZW5lbXkgPSB0aGlzLm1fRW5lbWllc1tpXTtcclxuICAgICAgICAgICAgZW5lbXkudXBkYXRlKGFfUGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhd25FbmVteSgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcmFuUG9zID0gTWF0aC5yYW5kb20oKSAqIDEwO1xyXG4gICAgICAgIGxldCBlbmVteVBvcyA9IHt4OiAwLCB5OiAwfTtcclxuICAgICAgICBpZihyYW5Qb3MgPj0gMCAmJiByYW5Qb3MgPCAyLjUpLy9SSUdIVFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZW5lbXlQb3MueCA9IDUyMDtcclxuICAgICAgICAgICAgZW5lbXlQb3MueSA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihyYW5Qb3MgPj0gMi41ICYmIHJhblBvcyA8IDUpLy9MRUZUXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbmVteVBvcy54ID0gLTIwO1xyXG4gICAgICAgICAgICBlbmVteVBvcy55ID0gKE1hdGgucmFuZG9tKCkgKiA1MDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHJhblBvcyA+PSA1ICYmIHJhblBvcyA8IDcuNSkvL1RPUFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZW5lbXlQb3MueCA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuICAgICAgICAgICAgZW5lbXlQb3MueSA9IC0yMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihyYW5Qb3MgPj0gNy41ICYmIHJhblBvcyA8IDEwKS8vRE9XTlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZW5lbXlQb3MueCA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuICAgICAgICAgICAgZW5lbXlQb3MueSA9IDUyMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tX0VuZW1pZXMucHVzaChuZXcgRW5lbXkoZW5lbXlQb3MpKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RW5lbXlNYW5hZ2VyfTsiLCJcclxuXHJcbmNsYXNzIEtleVZpZXdcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9Db250cm9sbGVyKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvdy5vbmtleWRvd24gPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uS2V5RG93bihlLCBhX0NvbnRyb2xsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXI7XHJcbiAgICB9XHJcblxyXG4gICAgb25LZXlEb3duKGUsIGEpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5rZXlDb2RlKTtcclxuICAgICAgICBjb25zdCBrZXlzID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBlLmtleUNvZGUgPT09IDM3IHx8IGUua2V5Q29kZSA9PT0gNjUsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgcmlnaHQ6IGUua2V5Q29kZSA9PT0gMzkgfHwgZS5rZXlDb2RlID09PSA2OCwgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgICAgIHVwOiBlLmtleUNvZGUgPT09IDM4IHx8IGUua2V5Q29kZSA9PT0gODcsICAgICAgIC8vdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgICAgICBkb3duOiBlLmtleUNvZGUgPT09IDQwIHx8IGUua2V5Q29kZSA9PT0gODMsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgc3BhY2U6IGUua2V5Q29kZSA9PT0gMzIgICAgICAgICAgICAgICAgICAgICAgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXIoa2V5cywgYSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7S2V5Vmlld307IiwiaW1wb3J0IHtCdWxsZXR9IGZyb20gXCIuL0J1bGxldC5lczZcIjtcclxuXHJcbmNsYXNzIFBsYXllclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX01hdHRlckVuZ2luZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSB7IHg6IDIwMCwgeTogMjAwfTtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0geyB3aWR0aDogMjAsIGhlaWdodDogMjAgfTtcclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy90aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICAvL3RoaXMubV9IZWlnaHQgPSAyMDtcclxuICAgICAgICB0aGlzLm1fTW92ZUZvcmNlID0gMC4wMDM7XHJcbiAgICAgICAgdGhpcy5tX1NwZWVkID0gNTtcclxuICAgICAgICB0aGlzLm1fU3RhdGUgPSBcIklkbGVcIjtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMubV9GaWxsU3R5bGUgPSBcInJnYigyMDAsMjAwLDI4KVwiO1xyXG4gICAgICAgIHRoaXMubV9DYW5BcHBseUZvcmNlID0gdHJ1ZTtcclxuICAgICAgICAvL3RoaXMubV9Sb3RhdGVGb3JjZSA9IDAuMTtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoYV9WZWN0b3IpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGFfVmVjdG9yLngqIGFfVmVjdG9yLnggKyBhX1ZlY3Rvci55KmFfVmVjdG9yLnkpO1xyXG4gICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShhX0tleXMpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoYV9LZXlzLnJpZ2h0ICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnggKz0gdGhpcy5tX1NwZWVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhX0tleXMubGVmdCAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi54IC09IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLnVwICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnkgLT0gdGhpcy5tX1NwZWVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhX0tleXMuZG93biAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi55ICs9IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLnNwYWNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaG9vdEJ1bGxldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdEJ1bGxldCgpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtQbGF5ZXJ9OyIsImltcG9ydCB7Q29udHJvbGxlcn0gZnJvbSAnLi9Db250cm9sbGVyLmVzNic7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHtcclxuICAgIGNvbnN0IG1fQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbn0pOyJdfQ==\n"],"sourceRoot":"/source/"}