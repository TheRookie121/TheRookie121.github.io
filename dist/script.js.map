{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Bullet","a_Posistion","a_Dimension","this","m_Position","x","width","y","m_Dimension","height","m_Rect","m_FillStyle","m_CanApplyForce","m_Alive","m_XSpeed","Math","random","m_YSpeed","setRect","2","BulletManager","m_Bullets","bullet","splice","update","3","CanvasView","m_Canvas","document","getElementById","m_Context","getContext","clearRect","a_Pos","a_Dimensions","a_FillStyle","a_Score","fillStyle","fillRect","font","fillText","4","CollisionManager","a_RectA","a_RectB","a_Player","a_Enemies","a_BulletManager","bullets","enemy","AABB","m_State","hit","k","m_Name","_enemy","m","_bullet","enemyKilled","5","Controller","undefined","_KeyView","_Player","_EnemyManager","_CanvasView","_CollisionManager","_BulletManager","m_Player","Player","m_CanvasView","m_EnemyManager","EnemyManager","m_CollisionManager","m_BulletManager","m_KeyView","KeyView","m_KeyListener","bind","loop","a_Keys","a_Self","move","clearDraw","enemies","m_Enemies","player","self","draw","drawScore","m_Score","window","requestAnimationFrame","./BulletManager.es6","./CanvasView.es6","./CollisionManager.es6","./EnemyManager.es6","./KeyView.es6","./Player.es6","6","Enemy","_EnemyBullet","a_Position","m_ShootTimer","m_TriggerTimer","m_BulletCounter","m_CanShoot","PosA","PosB","returnValue","a_Vector","sqrt","EnemyBullet","push","shootBullet","j","./EnemyBullet.es6","7","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_Bullet2","_Bullet","_this","./Bullet.es6","8","_Enemy","m_EnemySpawnTimer","m_EnemySpawnTimerMax","spawnEnemy","enemyPos","./Enemy.es6","9","a_Controller","onkeydown","onKeyDown","keys","left","keyCode","right","up","down","space","10","_PlayerBullet","a_MatterEngine","m_Speed","m_StateTimer","m_Health","m_EnemiesKilled","idle","active","PlayerBullet","./PlayerBullet.es6","11","floor","12","_Controller","addEventListener","./Controller.es6"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bullet = function () {\n    function Bullet(a_Posistion, a_Dimension) {\n        _classCallCheck(this, Bullet);\n\n        this.m_Position = { x: a_Posistion.x + a_Dimension.width / 2 - 5, y: a_Posistion.y };\n        this.m_Dimension = { width: 10, height: 10 };\n        this.m_Rect = {\n            x: this.m_Position.x,\n            y: this.m_Position.y,\n            width: this.m_Dimension.width,\n            height: this.m_Dimension.height\n        };\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n        this.m_Alive = true;\n        this.m_XSpeed = Math.random() * 4 - 2;\n        this.m_YSpeed = Math.random() * 5;\n    }\n\n    _createClass(Bullet, [{\n        key: \"setRect\",\n        value: function setRect() {\n            this.m_Rect = {\n                x: this.m_Position.x,\n                y: this.m_Position.y,\n                width: this.m_Dimension.width,\n                height: this.m_Dimension.height\n            };\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            this.setRect();\n        }\n    }]);\n\n    return Bullet;\n}();\n\nexports.Bullet = Bullet;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BulletManager = function () {\n    function BulletManager() {\n        _classCallCheck(this, BulletManager);\n\n        this.m_Bullets = [];\n    }\n\n    _createClass(BulletManager, [{\n        key: \"update\",\n        value: function update() {\n            for (var i in this.m_Bullets) {\n                var bullet = this.m_Bullets[i];\n                if (!bullet.m_Alive) this.m_Bullets.splice(i, 1);\n                bullet.update();\n            }\n        }\n    }]);\n\n    return BulletManager;\n}();\n\nexports.BulletManager = BulletManager;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasView = function () {\n    function CanvasView() {\n        _classCallCheck(this, CanvasView);\n\n        this.m_Canvas = document.getElementById(\"m_Canvas\");\n        this.m_Context = this.m_Canvas.getContext(\"2d\");\n    }\n\n    _createClass(CanvasView, [{\n        key: \"clearDraw\",\n        value: function clearDraw() {\n            this.m_Context.clearRect(0, 0, 1280, 720);\n        }\n    }, {\n        key: \"draw\",\n        value: function draw(a_Pos, a_Dimensions, a_FillStyle, a_Score) {\n            this.m_Context.fillStyle = a_FillStyle;\n            this.m_Context.fillRect(a_Pos.x, a_Pos.y, a_Dimensions.width, a_Dimensions.height);\n        }\n    }, {\n        key: \"drawScore\",\n        value: function drawScore(a_Score) {\n            this.m_Context.font = \"20px Helvetica\";\n            this.m_Context.fillText(a_Score, 10, 20);\n        }\n    }]);\n\n    return CanvasView;\n}();\n\nexports.CanvasView = CanvasView;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\nupdate player collide with enemy\r\n\r\naxis aligned bounding box\r\n\r\n2 boxen die overlappen, en dan iets laten gebeuren\r\n */\n\nvar CollisionManager = function () {\n    function CollisionManager() {\n        //..\n\n        _classCallCheck(this, CollisionManager);\n    }\n\n    _createClass(CollisionManager, [{\n        key: \"AABB\",\n        value: function AABB(a_RectA, a_RectB) {\n            return a_RectA.x <= a_RectB.x + a_RectB.width && a_RectB.x <= a_RectA.x + a_RectA.width && a_RectA.y <= a_RectB.y + a_RectB.height && a_RectB.y <= a_RectA.y + a_RectA.height;\n        }\n    }, {\n        key: \"update\",\n        value: function update(a_Player, a_Enemies, a_BulletManager) {\n            var bullets = a_BulletManager.m_Bullets;\n            for (var i in a_Enemies) {\n                var enemy = a_Enemies[i];\n                if (this.AABB(a_Player.m_Rect, enemy.m_Rect) && a_Player.m_State == \"Active\") {\n                    a_Enemies.splice(i, 1);\n                    a_Player.hit();\n                }\n            }\n\n            //Enemy Bullets & Player Collision\n            for (var k in bullets) {\n                var bullet = bullets[k];\n                if (bullet.m_Name == \"EnemyBullet\") {\n                    if (this.AABB(a_Player.m_Rect, bullet.m_Rect) && a_Player.m_State == \"Active\") {\n                        bullets.splice(k, 1);\n                        a_Player.hit();\n                    }\n                }\n            }\n\n            //Enemy & Player Bullet\n            for (var l in a_Enemies) {\n                var _enemy = a_Enemies[l];\n                for (var m in bullets) {\n                    var _bullet = bullets[m];\n                    if (_bullet.m_Name == \"PlayerBullet\") {\n                        if (this.AABB(_enemy.m_Rect, _bullet.m_Rect)) {\n                            a_Enemies.splice(l, 1);\n                            bullets.splice(m, 1);\n                            a_Player.enemyKilled();\n                        }\n                    }\n                }\n            }\n        }\n    }]);\n\n    return CollisionManager;\n}();\n\nexports.CollisionManager = CollisionManager;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Controller = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _KeyView = require('./KeyView.es6');\n\nvar _Player = require('./Player.es6');\n\nvar _EnemyManager = require('./EnemyManager.es6');\n\nvar _CanvasView = require('./CanvasView.es6');\n\nvar _CollisionManager = require('./CollisionManager.es6');\n\nvar _BulletManager = require('./BulletManager.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.m_Player = new _Player.Player(); //CHANGE TO m_MATTERENGINE\n        this.m_CanvasView = new _CanvasView.CanvasView();\n        this.m_EnemyManager = new _EnemyManager.EnemyManager();\n        this.m_CollisionManager = new _CollisionManager.CollisionManager();\n        this.m_BulletManager = new _BulletManager.BulletManager();\n        this.m_KeyView = new _KeyView.KeyView(this);\n        this.m_KeyView.m_KeyListener = this.update;\n        this.m_KeyView.m_KeyListener.bind(this); //callback\n        this.loop();\n    }\n\n    _createClass(Controller, [{\n        key: 'update',\n        value: function update(a_Keys, a_Self) {\n            a_Self.m_Player.move(a_Keys, a_Self.m_BulletManager);\n        }\n    }, {\n        key: 'loop',\n        value: function loop() {\n            this.m_CanvasView.clearDraw();\n            var enemies = this.m_EnemyManager.m_Enemies;\n            var player = this.m_Player;\n            self = this;\n            this.m_Player.update();\n            this.m_CanvasView.draw(player.m_Position, player.m_Dimension, player.m_FillStyle);\n            this.m_CanvasView.drawScore(player.m_Score);\n            this.m_EnemyManager.update(this.m_BulletManager);\n            for (var i in enemies) {\n                var enemy = enemies[i];\n                this.m_CanvasView.draw(enemy.m_Position, enemy.m_Dimension, enemy.m_FillStyle);\n            }\n\n            this.m_BulletManager.update();\n            for (var l in this.m_BulletManager.m_Bullets) {\n                var bullet = this.m_BulletManager.m_Bullets[l];\n                this.m_CanvasView.draw(bullet.m_Position, bullet.m_Dimension, bullet.m_FillStyle);\n            }\n\n            this.m_CollisionManager.update(player, enemies, this.m_BulletManager);\n\n            window.requestAnimationFrame(function () {\n                self.loop();\n            });\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.Controller = Controller;\n\n},{\"./BulletManager.es6\":2,\"./CanvasView.es6\":3,\"./CollisionManager.es6\":4,\"./EnemyManager.es6\":8,\"./KeyView.es6\":9,\"./Player.es6\":10}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Enemy = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EnemyBullet = require(\"./EnemyBullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Enemy = function () {\n    //Enemy constructor\n    function Enemy(a_Position) {\n        _classCallCheck(this, Enemy);\n\n        this.m_Position = a_Position;\n        this.m_Dimension = { width: 40, height: 40 };\n        this.m_Rect = {\n            x: this.m_Position.x,\n            y: this.m_Position.y,\n            width: this.m_Dimension.width,\n            height: this.m_Dimension.height\n        };\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_Bullets = [];\n        this.m_ShootTimer = 0;\n        this.m_TriggerTimer = 0;\n        this.m_BulletCounter = 0;\n        this.m_CanShoot = true;\n    }\n\n    _createClass(Enemy, [{\n        key: \"add\",\n        value: function add(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x + PosB.x,\n                y: PosA.y + PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"sub\",\n        value: function sub(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x - PosB.x,\n                y: PosA.y - PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"normalize\",\n        value: function normalize(a_Vector) {\n\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n\n            var returnValue = {\n                x: a_Vector.x / length,\n                y: a_Vector.y / length\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"setRect\",\n        value: function setRect() {\n            this.m_Rect = {\n                x: this.m_Position.x,\n                y: this.m_Position.y,\n                width: this.m_Dimension.width,\n                height: this.m_Dimension.height\n            };\n        }\n    }, {\n        key: \"shootBullet\",\n        value: function shootBullet(a_BulletManager) {\n            this.m_ShootTimer++;\n            if (this.m_BulletCounter >= 20) {\n                this.m_CanShoot = false;\n                this.m_ShootTimer = 0;\n                this.m_BulletCounter = 0;\n            }\n\n            if (this.m_ShootTimer == 100) {\n                this.m_CanShoot = true;\n            }\n            if (this.m_CanShoot) {\n                this.m_TriggerTimer++;\n                if (this.m_TriggerTimer >= 10) {\n                    var bullet = new _EnemyBullet.EnemyBullet({ x: this.m_Position.x, y: this.m_Position.y + 10 }, this.m_Dimension);\n                    a_BulletManager.m_Bullets.push(bullet);\n                    this.m_TriggerTimer = 0;\n                    this.m_BulletCounter++;\n                }\n            }\n        }\n    }, {\n        key: \"update\",\n        value: function update(a_BulletManager) {\n            this.setRect();\n            this.shootBullet(a_BulletManager);\n            for (var j in this.m_Bullets) {\n                var bullet = this.m_Bullets[j];\n                bullet.update();\n            }\n        }\n    }]);\n\n    return Enemy;\n}();\n\nexports.Enemy = Enemy;\n\n},{\"./EnemyBullet.es6\":7}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.EnemyBullet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Bullet2 = require(\"./Bullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EnemyBullet = function (_Bullet) {\n    _inherits(EnemyBullet, _Bullet);\n\n    function EnemyBullet(a_Posistion, a_Dimension) {\n        _classCallCheck(this, EnemyBullet);\n\n        var _this = _possibleConstructorReturn(this, (EnemyBullet.__proto__ || Object.getPrototypeOf(EnemyBullet)).call(this, a_Posistion, a_Dimension));\n\n        _this.m_Name = \"EnemyBullet\";\n        return _this;\n    }\n\n    _createClass(EnemyBullet, [{\n        key: \"update\",\n        value: function update() {\n            _get(EnemyBullet.prototype.__proto__ || Object.getPrototypeOf(EnemyBullet.prototype), \"setRect\", this).call(this);\n            this.m_Position.x += this.m_XSpeed;\n            this.m_Position.y += this.m_YSpeed;\n            if (this.m_Position.x - (this.m_Dimension.width + 20) > 640) {\n                this.m_Alive = false;\n            } else if (this.m_Position.x + (this.m_Dimension.width - 20) < 0) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y - (this.m_Dimension.height + 20) > 720) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y + (this.m_Dimension.height - 20) < 0) {\n                this.m_Alive = false;\n            }\n        }\n    }]);\n\n    return EnemyBullet;\n}(_Bullet2.Bullet);\n\nexports.EnemyBullet = EnemyBullet;\n\n},{\"./Bullet.es6\":1}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.EnemyManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Enemy = require('./Enemy.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EnemyManager = function () {\n    function EnemyManager() {\n        _classCallCheck(this, EnemyManager);\n\n        this.m_EnemySpawnTimer = 0;\n        this.m_EnemySpawnTimerMax = 100;\n        this.m_Enemies = [];\n    }\n\n    _createClass(EnemyManager, [{\n        key: 'update',\n        value: function update(a_BulletManager) {\n            this.m_EnemySpawnTimer++;\n\n            if (this.m_EnemySpawnTimer == 100) {\n                {\n                    this.spawnEnemy();\n                    //this.m_EnemySpawnTimer = 0;\n                }\n            }\n            for (var i in this.m_Enemies) {\n                var enemy = this.m_Enemies[i];\n                enemy.update(a_BulletManager);\n            }\n        }\n    }, {\n        key: 'spawnEnemy',\n        value: function spawnEnemy() {\n            var ranPos = Math.random() * 10;\n            var enemyPos = { x: 0, y: 0 };\n            enemyPos.x = Math.random() * 500;\n            enemyPos.y = Math.random() * 500;\n            this.m_Enemies.push(new _Enemy.Enemy(enemyPos));\n        }\n    }]);\n\n    return EnemyManager;\n}();\n\nexports.EnemyManager = EnemyManager;\n\n},{\"./Enemy.es6\":6}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KeyView = function () {\n    function KeyView(a_Controller) {\n        var _this = this;\n\n        _classCallCheck(this, KeyView);\n\n        window.onkeydown = function (e) {\n            _this.onKeyDown(e, a_Controller);\n        };\n        this.m_KeyListener;\n    }\n\n    _createClass(KeyView, [{\n        key: \"onKeyDown\",\n        value: function onKeyDown(e, a) {\n\n            var keys = {\n                left: e.keyCode === 37 || e.keyCode === 65, //true or false\n                right: e.keyCode === 39 || e.keyCode === 68, //true or false\n                up: e.keyCode === 38 || e.keyCode === 87, //true or false\n                down: e.keyCode === 40 || e.keyCode === 83, //true or false\n                space: e.keyCode === 32 //true or false\n            };\n            this.m_KeyListener(keys, a);\n        }\n    }]);\n\n    return KeyView;\n}();\n\nexports.KeyView = KeyView;\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Player = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PlayerBullet = require(\"./PlayerBullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(a_MatterEngine) {\n        _classCallCheck(this, Player);\n\n        this.m_Position = { x: 200, y: 200 };\n        this.m_Dimension = { width: 20, height: 20 };\n        this.m_Rect = {\n            x: this.m_Position.x,\n            y: this.m_Position.y,\n            width: this.m_Dimension.width,\n            height: this.m_Dimension.height\n        };\n        this.m_Speed = 5;\n        this.m_State = \"Active\";\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(12,66,145)\";\n        this.m_CanApplyForce = true;\n        this.m_StateTimer = 0;\n        this.m_Health = 3;\n        this.m_Score = 0;\n        this.m_EnemiesKilled = 0;\n    }\n\n    _createClass(Player, [{\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"enemyKilled\",\n        value: function enemyKilled() {\n            this.m_EnemiesKilled++;\n            this.m_Score = this.m_EnemiesKilled * 1000;\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n\n            this.m_Rect = {\n                x: this.m_Position.x,\n                y: this.m_Position.y,\n                width: this.m_Dimension.width,\n                height: this.m_Dimension.height\n            };\n\n            for (var i in this.m_Bullets) {\n                var bullet = this.m_Bullets[i];\n                bullet.update();\n            }\n\n            switch (this.m_State) {\n                case \"Idle\":\n                    this.idle();\n                    break;\n                case \"Active\":\n                    this.active();\n                    break;\n                case \"Dead\":\n                    break;\n            }\n        }\n    }, {\n        key: \"active\",\n        value: function active() {}\n    }, {\n        key: \"idle\",\n        value: function idle() {\n            this.m_StateTimer++;\n            if (this.m_StateTimer >= 300) {\n                this.m_State = \"Active\";\n                this.m_StateTimer = 0;\n            }\n        }\n    }, {\n        key: \"hit\",\n        value: function hit() {\n            this.m_Health--;\n            this.m_State = \"Idle\";\n            if (this.m_Health == 0) this.m_State = \"Dead\";\n        }\n    }, {\n        key: \"move\",\n        value: function move(a_Keys, a_BulletManager) {\n            if (a_Keys.right && this.m_CanApplyForce) {\n                this.m_Position.x += this.m_Speed;\n            }\n            if (a_Keys.left && this.m_CanApplyForce) {\n                this.m_Position.x -= this.m_Speed;\n            }\n            if (a_Keys.up && this.m_CanApplyForce) {\n                this.m_Position.y -= this.m_Speed;\n            }\n            if (a_Keys.down && this.m_CanApplyForce) {\n                this.m_Position.y += this.m_Speed;\n            }\n            if (a_Keys.space) {\n                this.shootBullet(a_BulletManager);\n            }\n        }\n    }, {\n        key: \"shootBullet\",\n        value: function shootBullet(a_BulletManager) {\n            a_BulletManager.m_Bullets.push(new _PlayerBullet.PlayerBullet(this.m_Position, this.m_Dimension));\n        }\n    }]);\n\n    return Player;\n}();\n\nexports.Player = Player;\n\n},{\"./PlayerBullet.es6\":11}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PlayerBullet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Bullet2 = require(\"./Bullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PlayerBullet = function (_Bullet) {\n    _inherits(PlayerBullet, _Bullet);\n\n    function PlayerBullet(a_Posistion, a_Dimension) {\n        _classCallCheck(this, PlayerBullet);\n\n        var _this = _possibleConstructorReturn(this, (PlayerBullet.__proto__ || Object.getPrototypeOf(PlayerBullet)).call(this, { x: a_Posistion.x + 10, y: a_Posistion.y }, a_Dimension));\n\n        _this.m_YSpeed = 3;\n        _this.m_Name = \"PlayerBullet\";\n        _this.m_FillStyle = \"rgb(\" + Math.floor(Math.random() * 256) + \",\" + Math.floor(Math.random() * 256) + \",\" + Math.floor(Math.random() * 256) + \")\";\n        return _this;\n    }\n\n    _createClass(PlayerBullet, [{\n        key: \"update\",\n        value: function update() {\n            _get(PlayerBullet.prototype.__proto__ || Object.getPrototypeOf(PlayerBullet.prototype), \"setRect\", this).call(this);\n\n            this.m_Position.y -= this.m_YSpeed;\n            this.m_Position.x += this.m_XSpeed;\n            if (this.m_Position.x - (this.m_Dimension.width + 20) > 640) {\n                this.m_Alive = false;\n            } else if (this.m_Position.x + (this.m_Dimension.width - 20) < 0) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y - (this.m_Dimension.height + 20) > 720) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y + (this.m_Dimension.height - 20) < 0) {\n                this.m_Alive = false;\n            }\n        }\n    }]);\n\n    return PlayerBullet;\n}(_Bullet2.Bullet);\n\nexports.PlayerBullet = PlayerBullet;\n\n},{\"./Bullet.es6\":1}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _Controller = require(\"./Controller.es6\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var m_Controller = new _Controller.Controller();\n});\n\n},{\"./Controller.es6\":5}]},{},[12])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxCdWxsZXQuZXM2Iiwic3JjXFxqc1xcQnVsbGV0TWFuYWdlci5lczYiLCJzcmNcXGpzXFxDYW52YXNWaWV3LmVzNiIsInNyY1xcanNcXENvbGxpc2lvbk1hbmFnZXIuZXM2Iiwic3JjXFxqc1xcQ29udHJvbGxlci5lczYiLCJzcmNcXGpzXFxFbmVteS5lczYiLCJzcmNcXGpzXFxFbmVteUJ1bGxldC5lczYiLCJzcmNcXGpzXFxFbmVteU1hbmFnZXIuZXM2Iiwic3JjXFxqc1xcS2V5Vmlldy5lczYiLCJzcmNcXGpzXFxQbGF5ZXIuZXM2Iiwic3JjXFxqc1xcUGxheWVyQnVsbGV0LmVzNiIsInNyY1xcanNcXHNjcmlwdC5lczYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQU0sTTtBQUVGLG9CQUFZLFdBQVosRUFBeUIsV0FBekIsRUFDQTtBQUFBOztBQUNJLGFBQUssVUFBTCxHQUFrQixFQUFDLEdBQUcsWUFBWSxDQUFaLEdBQWlCLFlBQVksS0FBWixHQUFvQixDQUFyQyxHQUEwQyxDQUE5QyxFQUFpRCxHQUFHLFlBQVksQ0FBaEUsRUFBbEI7QUFDQSxhQUFLLFdBQUwsR0FBbUIsRUFBQyxPQUFPLEVBQVIsRUFBWSxRQUFRLEVBQXBCLEVBQW5CO0FBQ0EsYUFBSyxNQUFMLEdBQWM7QUFDVixlQUFHLEtBQUssVUFBTCxDQUFnQixDQURUO0FBRVYsZUFBRyxLQUFLLFVBQUwsQ0FBZ0IsQ0FGVDtBQUdWLG1CQUFPLEtBQUssV0FBTCxDQUFpQixLQUhkO0FBSVYsb0JBQVEsS0FBSyxXQUFMLENBQWlCO0FBSmYsU0FBZDtBQU1BLGFBQUssV0FBTCxHQUFtQixpQkFBbkI7QUFDQSxhQUFLLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxhQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0EsYUFBSyxRQUFMLEdBQWlCLEtBQUssTUFBTCxLQUFnQixDQUFqQixHQUFv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S0FBSyxLQUFMLENBQVcsS0FBSyxNQUFMLEtBQWUsR0FBMUIsQ0FBOUYsR0FBZ0ksR0FBbko7QUFKSjtBQUtDOzs7O2lDQUdEO0FBQ0k7O0FBRUEsaUJBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLFFBQTFCO0FBQ0EsaUJBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLFFBQTFCO0FBQ0EsZ0JBQUcsS0FBSyxVQUFMLENBQWdCLENBQWhCLElBQXFCLEtBQUssV0FBTCxDQUFpQixLQUFqQixHQUF5QixFQUE5QyxJQUFvRCxHQUF2RCxFQUNBO0FBQ0kscUJBQUssT0FBTCxHQUFlLEtBQWY7QUFDSCxhQUhELE1BSUssSUFBSSxLQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxXQUFMLENBQWlCLEtBQWpCLEdBQXlCLEVBQTlDLElBQW9ELENBQXhELEVBQ0w7QUFDSSxxQkFBSyxPQUFMLEdBQWUsS0FBZjtBQUNILGFBSEksTUFJQSxJQUFJLEtBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLFdBQUwsQ0FBaUIsTUFBakIsR0FBMEIsRUFBL0MsSUFBcUQsR0FBekQsRUFDTDtBQUNJLHFCQUFLLE9BQUwsR0FBZSxLQUFmO0FBQ0gsYUFISSxNQUlBLElBQUksS0FBSyxVQUFMLENBQWdCLENBQWhCLElBQXFCLEtBQUssV0FBTCxDQUFpQixNQUFqQixHQUEwQixFQUEvQyxJQUFxRCxDQUF6RCxFQUNMO0FBQ0kscUJBQUssT0FBTCxHQUFlLEtBQWY7QUFDSDtBQUNKOzs7Ozs7UUFHRyxZLEdBQUEsWTs7Ozs7QUNyQ1I7O0FBRUEsU0FBUyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBSztBQUMvQyxRQUFNLGVBQWUsNEJBQXJCO0FBQ0gsQ0FGRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBCdWxsZXRcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9Qb3Npc3Rpb24sIGFfRGltZW5zaW9uKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9Qb3NpdGlvbiA9IHt4OiBhX1Bvc2lzdGlvbi54ICsgKGFfRGltZW5zaW9uLndpZHRoIC8gMikgLSA1LCB5OiBhX1Bvc2lzdGlvbi55fTtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0ge3dpZHRoOiAxMCwgaGVpZ2h0OiAxMH07XHJcbiAgICAgICAgdGhpcy5tX1JlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMubV9Qb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLm1fUG9zaXRpb24ueSxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMubV9EaW1lbnNpb24ud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5tX0RpbWVuc2lvbi5oZWlnaHRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubV9GaWxsU3R5bGUgPSBcInJnYigyMDAsMjAwLDI4KVwiO1xyXG4gICAgICAgIHRoaXMubV9DYW5BcHBseUZvcmNlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1fQWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9YU3BlZWQgPSAoTWF0aC5yYW5kb20oKSAqIDQpLTI7XHJcbiAgICAgICAgdGhpcy5tX1lTcGVlZCA9IE1hdGgucmFuZG9tKCkgKiA1O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJlY3QoKVxyXG4gICAge1xyXG4gICAgICAgdGhpcy5tX1JlY3QgPSAge1xyXG4gICAgICAgICAgICB4OiB0aGlzLm1fUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgeTogdGhpcy5tX1Bvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLm1fRGltZW5zaW9uLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMubV9EaW1lbnNpb24uaGVpZ2h0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNldFJlY3QoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7QnVsbGV0fTsiLCJjbGFzcyBCdWxsZXRNYW5hZ2VyXHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMubV9CdWxsZXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgYnVsbGV0ID0gdGhpcy5tX0J1bGxldHNbaV07XHJcbiAgICAgICAgICAgIGlmKCFidWxsZXQubV9BbGl2ZSlcclxuICAgICAgICAgICAgICAgIHRoaXMubV9CdWxsZXRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgYnVsbGV0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtCdWxsZXRNYW5hZ2VyfTsiLCJjbGFzcyBDYW52YXNWaWV3XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtX0NhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLm1fQ29udGV4dCA9IHRoaXMubV9DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyRHJhdygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIDEyODAsIDcyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhhX1BvcywgYV9EaW1lbnNpb25zLCBhX0ZpbGxTdHlsZSwgYV9TY29yZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQ29udGV4dC5maWxsU3R5bGUgPSBhX0ZpbGxTdHlsZTtcclxuICAgICAgICB0aGlzLm1fQ29udGV4dC5maWxsUmVjdChhX1Bvcy54LCBhX1Bvcy55LCBhX0RpbWVuc2lvbnMud2lkdGgsIGFfRGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTY29yZShhX1Njb3JlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9Db250ZXh0LmZvbnQgPSBcIjIwcHggSGVsdmV0aWNhXCI7XHJcbiAgICAgICAgdGhpcy5tX0NvbnRleHQuZmlsbFRleHQoYV9TY29yZSwgMTAsIDIwKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDYW52YXNWaWV3fSIsIi8qXHJcbnVwZGF0ZSBwbGF5ZXIgY29sbGlkZSB3aXRoIGVuZW15XHJcblxyXG5heGlzIGFsaWduZWQgYm91bmRpbmcgYm94XHJcblxyXG4yIGJveGVuIGRpZSBvdmVybGFwcGVuLCBlbiBkYW4gaWV0cyBsYXRlbiBnZWJldXJlblxyXG4gKi9cclxuXHJcbmNsYXNzIENvbGxpc2lvbk1hbmFnZXJcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIC8vLi5cclxuICAgIH1cclxuXHJcbiAgICBBQUJCKGFfUmVjdEEsIGFfUmVjdEIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIChhX1JlY3RBLnggPD0gYV9SZWN0Qi54ICsgYV9SZWN0Qi53aWR0aCAmJlxyXG4gICAgICAgICAgICAgICAgYV9SZWN0Qi54IDw9IGFfUmVjdEEueCArIGFfUmVjdEEud2lkdGggJiZcclxuICAgICAgICAgICAgICAgIGFfUmVjdEEueSA8PSBhX1JlY3RCLnkgKyBhX1JlY3RCLmhlaWdodCAmJlxyXG4gICAgICAgICAgICAgICAgYV9SZWN0Qi55IDw9IGFfUmVjdEEueSArIGFfUmVjdEEuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9QbGF5ZXIsIGFfRW5lbWllcywgYV9CdWxsZXRNYW5hZ2VyKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGJ1bGxldHMgPSBhX0J1bGxldE1hbmFnZXIubV9CdWxsZXRzO1xyXG4gICAgICAgIGZvcihsZXQgaSBpbiBhX0VuZW1pZXMpXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZW5lbXkgPSBhX0VuZW1pZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLkFBQkIoYV9QbGF5ZXIubV9SZWN0LCBlbmVteS5tX1JlY3QpICYmIGFfUGxheWVyLm1fU3RhdGUgPT0gXCJBY3RpdmVcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYV9FbmVtaWVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGFfUGxheWVyLmhpdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0VuZW15IEJ1bGxldHMgJiBQbGF5ZXIgQ29sbGlzaW9uXHJcbiAgICAgICAgZm9yKGxldCBrIGluIGJ1bGxldHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW2tdO1xyXG4gICAgICAgICAgICBpZihidWxsZXQubV9OYW1lID09IFwiRW5lbXlCdWxsZXRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5BQUJCKGFfUGxheWVyLm1fUmVjdCwgYnVsbGV0Lm1fUmVjdCkgJiYgYV9QbGF5ZXIubV9TdGF0ZSA9PSBcIkFjdGl2ZVwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgYnVsbGV0cy5zcGxpY2UoaywgMSk7XHJcbiAgICAgICAgICAgICAgICAgICBhX1BsYXllci5oaXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FbmVteSAmIFBsYXllciBCdWxsZXRcclxuICAgICAgICBmb3IobGV0IGwgaW4gYV9FbmVtaWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZW5lbXkgPSBhX0VuZW1pZXNbbF07XHJcbiAgICAgICAgICAgIGZvcihsZXQgbSBpbiBidWxsZXRzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW21dO1xyXG4gICAgICAgICAgICAgICAgaWYoYnVsbGV0Lm1fTmFtZSA9PSBcIlBsYXllckJ1bGxldFwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuQUFCQihlbmVteS5tX1JlY3QsIGJ1bGxldC5tX1JlY3QpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYV9FbmVtaWVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0cy5zcGxpY2UobSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFfUGxheWVyLmVuZW15S2lsbGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDb2xsaXNpb25NYW5hZ2VyfTsiLCJpbXBvcnQge0tleVZpZXd9IGZyb20gJy4vS2V5Vmlldy5lczYnO1xyXG5pbXBvcnQge1BsYXllcn0gZnJvbSAnLi9QbGF5ZXIuZXM2JztcclxuaW1wb3J0IHtFbmVteU1hbmFnZXJ9IGZyb20gJy4vRW5lbXlNYW5hZ2VyLmVzNic7XHJcbmltcG9ydCB7Q2FudmFzVmlld30gZnJvbSAnLi9DYW52YXNWaWV3LmVzNic7XHJcbmltcG9ydCB7Q29sbGlzaW9uTWFuYWdlcn0gZnJvbSAnLi9Db2xsaXNpb25NYW5hZ2VyLmVzNic7XHJcbmltcG9ydCB7QnVsbGV0TWFuYWdlcn0gZnJvbSAnLi9CdWxsZXRNYW5hZ2VyLmVzNic7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyXHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUGxheWVyID0gbmV3IFBsYXllcigpOyAvL0NIQU5HRSBUTyBtX01BVFRFUkVOR0lORVxyXG4gICAgICAgIHRoaXMubV9DYW52YXNWaWV3ID0gbmV3IENhbnZhc1ZpZXcoKTtcclxuICAgICAgICB0aGlzLm1fRW5lbXlNYW5hZ2VyID0gbmV3IEVuZW15TWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMubV9Db2xsaXNpb25NYW5hZ2VyID0gbmV3IENvbGxpc2lvbk1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0TWFuYWdlciA9IG5ldyBCdWxsZXRNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5tX0tleVZpZXcgPSBuZXcgS2V5Vmlldyh0aGlzKTtcclxuICAgICAgICB0aGlzLm1fS2V5Vmlldy5tX0tleUxpc3RlbmVyID0gdGhpcy51cGRhdGU7XHJcbiAgICAgICAgdGhpcy5tX0tleVZpZXcubV9LZXlMaXN0ZW5lci5iaW5kKHRoaXMpOy8vY2FsbGJhY2tcclxuICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9LZXlzLCBhX1NlbGYpXHJcbiAgICB7XHJcbiAgICAgICAgYV9TZWxmLm1fUGxheWVyLm1vdmUoYV9LZXlzLCBhX1NlbGYubV9CdWxsZXRNYW5hZ2VyKTtcclxuICAgIH1cclxuXHJcbiAgICBsb29wKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5jbGVhckRyYXcoKTtcclxuICAgICAgICBjb25zdCBlbmVtaWVzID0gdGhpcy5tX0VuZW15TWFuYWdlci5tX0VuZW1pZXM7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5tX1BsYXllcjtcclxuICAgICAgICBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLm1fUGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubV9DYW52YXNWaWV3LmRyYXcocGxheWVyLm1fUG9zaXRpb24sIHBsYXllci5tX0RpbWVuc2lvbiwgcGxheWVyLm1fRmlsbFN0eWxlKTtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3U2NvcmUocGxheWVyLm1fU2NvcmUpO1xyXG4gICAgICAgIHRoaXMubV9FbmVteU1hbmFnZXIudXBkYXRlKHRoaXMubV9CdWxsZXRNYW5hZ2VyKTtcclxuICAgICAgICBmb3IobGV0IGkgaW4gZW5lbWllcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZW15ID0gZW5lbWllc1tpXTtcclxuICAgICAgICAgICAgdGhpcy5tX0NhbnZhc1ZpZXcuZHJhdyhlbmVteS5tX1Bvc2l0aW9uLCBlbmVteS5tX0RpbWVuc2lvbiwgZW5lbXkubV9GaWxsU3R5bGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX0J1bGxldE1hbmFnZXIudXBkYXRlKCk7XHJcbiAgICAgICAgZm9yKGxldCBsIGluIHRoaXMubV9CdWxsZXRNYW5hZ2VyLm1fQnVsbGV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1bGxldCA9IHRoaXMubV9CdWxsZXRNYW5hZ2VyLm1fQnVsbGV0c1tsXTtcclxuICAgICAgICAgICAgdGhpcy5tX0NhbnZhc1ZpZXcuZHJhdyhidWxsZXQubV9Qb3NpdGlvbiwgYnVsbGV0Lm1fRGltZW5zaW9uLCBidWxsZXQubV9GaWxsU3R5bGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX0NvbGxpc2lvbk1hbmFnZXIudXBkYXRlKHBsYXllciwgZW5lbWllcywgdGhpcy5tX0J1bGxldE1hbmFnZXIpO1xyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgc2VsZi5sb29wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29udHJvbGxlcn0iLCJpbXBvcnQge0VuZW15QnVsbGV0fSBmcm9tICcuL0VuZW15QnVsbGV0LmVzNic7XHJcblxyXG5jbGFzcyBFbmVteSB7XHJcbiAgICAvL0VuZW15IGNvbnN0cnVjdG9yXHJcbiAgICBjb25zdHJ1Y3RvcihhX1Bvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uID0gYV9Qb3NpdGlvbjtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0ge3dpZHRoOiA0MCwgaGVpZ2h0OiA0MH07XHJcbiAgICAgICAgdGhpcy5tX1JlY3QgPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMubV9Qb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLm1fUG9zaXRpb24ueSxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMubV9EaW1lbnNpb24ud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5tX0RpbWVuc2lvbi5oZWlnaHRcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tX0ZpbGxTdHlsZSA9IFwicmdiKDIwMCwyMDAsMjgpXCI7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fU2hvb3RUaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX1RyaWdnZXJUaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldENvdW50ZXIgPSAwO1xyXG4gICAgICAgIHRoaXMubV9DYW5TaG9vdCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgYWRkKFBvc0EsIFBvc0IpIHtcclxuXHJcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHg6IFBvc0EueCArIFBvc0IueCxcclxuICAgICAgICAgICAgeTogUG9zQS55ICsgUG9zQi55XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdWIoUG9zQSwgUG9zQikge1xyXG5cclxuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgeDogUG9zQS54IC0gUG9zQi54LFxyXG4gICAgICAgICAgICB5OiBQb3NBLnkgLSBQb3NCLnlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKGFfVmVjdG9yKVxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQoYV9WZWN0b3IueCogYV9WZWN0b3IueCArIGFfVmVjdG9yLnkqYV9WZWN0b3IueSk7XHJcblxyXG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB4OiBhX1ZlY3Rvci54L2xlbmd0aCxcclxuICAgICAgICAgICAgeTogYV9WZWN0b3IueS9sZW5ndGhcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aChhX1ZlY3RvcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQoYV9WZWN0b3IueCogYV9WZWN0b3IueCArIGFfVmVjdG9yLnkqYV9WZWN0b3IueSk7XHJcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSZWN0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2hvb3RCdWxsZXQoYV9CdWxsZXRNYW5hZ2VyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9TaG9vdFRpbWVyKys7XHJcbiAgICAgICAgaWYodGhpcy5tX0J1bGxldENvdW50ZXIgPj0gMjApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fQ2FuU2hvb3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tX1Nob290VGltZXIgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm1fQnVsbGV0Q291bnRlciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLm1fU2hvb3RUaW1lciA9PSAxMDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fQ2FuU2hvb3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLm1fQ2FuU2hvb3QpIHtcclxuICAgICAgICAgICAgdGhpcy5tX1RyaWdnZXJUaW1lcisrO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tX1RyaWdnZXJUaW1lciA+PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVsbGV0ID0gbmV3IEVuZW15QnVsbGV0KHt4OiB0aGlzLm1fUG9zaXRpb24ueCwgeTogdGhpcy5tX1Bvc2l0aW9uLnkgKyAxMCB9LCB0aGlzLm1fRGltZW5zaW9uKTtcclxuICAgICAgICAgICAgICAgIGFfQnVsbGV0TWFuYWdlci5tX0J1bGxldHMucHVzaChidWxsZXQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1RyaWdnZXJUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQnVsbGV0Q291bnRlcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShhX0J1bGxldE1hbmFnZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zZXRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5zaG9vdEJ1bGxldChhX0J1bGxldE1hbmFnZXIpO1xyXG4gICAgICAgIGZvcihsZXQgaiBpbiB0aGlzLm1fQnVsbGV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1bGxldCA9IHRoaXMubV9CdWxsZXRzW2pdO1xyXG4gICAgICAgICAgICBidWxsZXQudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0VuZW15fTsiLCJpbXBvcnQge0J1bGxldH0gZnJvbSBcIi4vQnVsbGV0LmVzNlwiO1xyXG5cclxuY2xhc3MgRW5lbXlCdWxsZXQgZXh0ZW5kcyBCdWxsZXRcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9Qb3Npc3Rpb24sIGFfRGltZW5zaW9uKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKGFfUG9zaXN0aW9uLCBhX0RpbWVuc2lvbik7XHJcbiAgICAgICAgdGhpcy5tX05hbWUgPSBcIkVuZW15QnVsbGV0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5zZXRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnggKz0gdGhpcy5tX1hTcGVlZDtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24ueSArPSB0aGlzLm1fWVNwZWVkO1xyXG4gICAgICAgIGlmKHRoaXMubV9Qb3NpdGlvbi54IC0gKHRoaXMubV9EaW1lbnNpb24ud2lkdGggKyAyMCkgPiA2NDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fQWxpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiggdGhpcy5tX1Bvc2l0aW9uLnggKyAodGhpcy5tX0RpbWVuc2lvbi53aWR0aCAtIDIwKSA8IDAgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0FsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoIHRoaXMubV9Qb3NpdGlvbi55IC0gKHRoaXMubV9EaW1lbnNpb24uaGVpZ2h0ICsgMjApID4gNzIwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9BbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCB0aGlzLm1fUG9zaXRpb24ueSArICh0aGlzLm1fRGltZW5zaW9uLmhlaWdodCAtIDIwKSA8IDAgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0FsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0VuZW15QnVsbGV0fTsiLCJpbXBvcnQge0VuZW15fSBmcm9tICcuL0VuZW15LmVzNic7XHJcblxyXG5jbGFzcyBFbmVteU1hbmFnZXJcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXJNYXggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5tX0VuZW1pZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9CdWxsZXRNYW5hZ2VyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXIrKztcclxuXHJcbiAgICAgICAgaWYodGhpcy5tX0VuZW15U3Bhd25UaW1lciA9PSAxMDApe1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zcGF3bkVuZW15KCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5tX0VuZW15U3Bhd25UaW1lciA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMubV9FbmVtaWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZW5lbXkgPSB0aGlzLm1fRW5lbWllc1tpXTtcclxuICAgICAgICAgICAgZW5lbXkudXBkYXRlKGFfQnVsbGV0TWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNwYXduRW5lbXkoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHJhblBvcyA9IE1hdGgucmFuZG9tKCkgKiAxMDtcclxuICAgICAgICBsZXQgZW5lbXlQb3MgPSB7eDogMCwgeTogMH07XHJcbiAgICAgICAgZW5lbXlQb3MueCA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuICAgICAgICBlbmVteVBvcy55ID0gKE1hdGgucmFuZG9tKCkgKiA1MDApO1xyXG4gICAgICAgIHRoaXMubV9FbmVtaWVzLnB1c2gobmV3IEVuZW15KGVuZW15UG9zKSk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0VuZW15TWFuYWdlcn07IiwiXHJcblxyXG5jbGFzcyBLZXlWaWV3XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKGFfQ29udHJvbGxlcilcclxuICAgIHtcclxuICAgICAgICB3aW5kb3cub25rZXlkb3duID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbktleURvd24oZSwgYV9Db250cm9sbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tX0tleUxpc3RlbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIG9uS2V5RG93bihlLCBhKVxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBrZXlzID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBlLmtleUNvZGUgPT09IDM3IHx8IGUua2V5Q29kZSA9PT0gNjUsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgcmlnaHQ6IGUua2V5Q29kZSA9PT0gMzkgfHwgZS5rZXlDb2RlID09PSA2OCwgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgICAgIHVwOiBlLmtleUNvZGUgPT09IDM4IHx8IGUua2V5Q29kZSA9PT0gODcsICAgICAgIC8vdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgICAgICBkb3duOiBlLmtleUNvZGUgPT09IDQwIHx8IGUua2V5Q29kZSA9PT0gODMsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgc3BhY2U6IGUua2V5Q29kZSA9PT0gMzIgICAgICAgICAgICAgICAgICAgICAgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXIoa2V5cywgYSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7S2V5Vmlld307IiwiaW1wb3J0IHtQbGF5ZXJCdWxsZXR9IGZyb20gXCIuL1BsYXllckJ1bGxldC5lczZcIjtcclxuXHJcbmNsYXNzIFBsYXllclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX01hdHRlckVuZ2luZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSB7IHg6IDIwMCwgeTogMjAwfTtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0geyB3aWR0aDogMjAsIGhlaWdodDogMjAgfTtcclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5tX1NwZWVkID0gNTtcclxuICAgICAgICB0aGlzLm1fU3RhdGUgPSBcIkFjdGl2ZVwiO1xyXG4gICAgICAgIHRoaXMubV9CdWxsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5tX0ZpbGxTdHlsZSA9IFwicmdiKDEyLDY2LDE0NSlcIjtcclxuICAgICAgICB0aGlzLm1fQ2FuQXBwbHlGb3JjZSA9IHRydWVcclxuICAgICAgICB0aGlzLm1fU3RhdGVUaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX0hlYWx0aCA9IDM7XHJcbiAgICAgICAgdGhpcy5tX1Njb3JlID0gMDtcclxuICAgICAgICB0aGlzLm1fRW5lbWllc0tpbGxlZCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKGFfVmVjdG9yKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydChhX1ZlY3Rvci54KiBhX1ZlY3Rvci54ICsgYV9WZWN0b3IueSphX1ZlY3Rvci55KTtcclxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGVuZW15S2lsbGVkKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fRW5lbWllc0tpbGxlZCsrO1xyXG4gICAgICAgIHRoaXMubV9TY29yZSA9IHRoaXMubV9FbmVtaWVzS2lsbGVkICogMTAwMDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLm1fQnVsbGV0cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1bGxldCA9IHRoaXMubV9CdWxsZXRzW2ldO1xyXG4gICAgICAgICAgICBidWxsZXQudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2godGhpcy5tX1N0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FzZSBcIklkbGVcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaWRsZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBY3RpdmVcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkRlYWRcIjpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhY3RpdmUoKVxyXG4gICAge31cclxuXHJcbiAgICBpZGxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fU3RhdGVUaW1lcisrO1xyXG4gICAgICAgIGlmKHRoaXMubV9TdGF0ZVRpbWVyID49IDMwMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9TdGF0ZSA9IFwiQWN0aXZlXCI7XHJcbiAgICAgICAgICAgIHRoaXMubV9TdGF0ZVRpbWVyID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fSGVhbHRoLS07XHJcbiAgICAgICAgdGhpcy5tX1N0YXRlID0gXCJJZGxlXCI7XHJcbiAgICAgICAgaWYodGhpcy5tX0hlYWx0aCA9PSAwKVxyXG4gICAgICAgICAgICB0aGlzLm1fU3RhdGUgPSBcIkRlYWRcIjtcclxuICAgIH1cclxuICAgIG1vdmUoYV9LZXlzLCBhX0J1bGxldE1hbmFnZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoYV9LZXlzLnJpZ2h0ICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnggKz0gdGhpcy5tX1NwZWVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhX0tleXMubGVmdCAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi54IC09IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLnVwICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnkgLT0gdGhpcy5tX1NwZWVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhX0tleXMuZG93biAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi55ICs9IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLnNwYWNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zaG9vdEJ1bGxldChhX0J1bGxldE1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdEJ1bGxldChhX0J1bGxldE1hbmFnZXIpXHJcbiAgICB7XHJcbiAgICAgICAgYV9CdWxsZXRNYW5hZ2VyLm1fQnVsbGV0cy5wdXNoKG5ldyBQbGF5ZXJCdWxsZXQodGhpcy5tX1Bvc2l0aW9uLCB0aGlzLm1fRGltZW5zaW9uKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1BsYXllcn07IiwiaW1wb3J0IHtCdWxsZXR9IGZyb20gXCIuL0J1bGxldC5lczZcIjtcclxuXHJcbmNsYXNzIFBsYXllckJ1bGxldCBleHRlbmRzIEJ1bGxldFxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX1Bvc2lzdGlvbiwgYV9EaW1lbnNpb24pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoe3g6IGFfUG9zaXN0aW9uLnggKyAxMCwgeTogYV9Qb3Npc3Rpb24ueX0sIGFfRGltZW5zaW9uKTtcclxuICAgICAgICB0aGlzLm1fWVNwZWVkID0gMztcclxuICAgICAgICB0aGlzLm1fTmFtZSA9IFwiUGxheWVyQnVsbGV0XCI7XHJcbiAgICAgICAgdGhpcy5tX0ZpbGxTdHlsZSA9IFwicmdiKFwiICsgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikpICsgXCIsXCIgKyAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSkgKyBcIixcIiArIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKjI1NikpICsgXCIpXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5zZXRSZWN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMubV9Qb3NpdGlvbi55IC09IHRoaXMubV9ZU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnggKz0gdGhpcy5tX1hTcGVlZDtcclxuICAgICAgICBpZih0aGlzLm1fUG9zaXRpb24ueCAtICh0aGlzLm1fRGltZW5zaW9uLndpZHRoICsgMjApID4gNjQwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0FsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoIHRoaXMubV9Qb3NpdGlvbi54ICsgKHRoaXMubV9EaW1lbnNpb24ud2lkdGggLSAyMCkgPCAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9BbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCB0aGlzLm1fUG9zaXRpb24ueSAtICh0aGlzLm1fRGltZW5zaW9uLmhlaWdodCArIDIwKSA+IDcyMCApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fQWxpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiggdGhpcy5tX1Bvc2l0aW9uLnkgKyAodGhpcy5tX0RpbWVuc2lvbi5oZWlnaHQgLSAyMCkgPCAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9BbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtQbGF5ZXJCdWxsZXR9OyIsImltcG9ydCB7Q29udHJvbGxlcn0gZnJvbSAnLi9Db250cm9sbGVyLmVzNic7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHtcclxuICAgIGNvbnN0IG1fQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbn0pOyJdfQ==\n"],"sourceRoot":"/source/"}