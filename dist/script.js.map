{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Bullet","a_Posistion","a_Dimension","this","m_Position","x","width","y","m_Dimension","height","m_FillStyle","m_CanApplyForce","m_Alive","m_XSpeed","Math","random","m_YSpeed","2","CanvasView","m_Canvas","document","getElementById","m_Context","getContext","clearRect","a_Pos","a_Dimensions","fillRect","3","Controller","undefined","_KeyView","_Player","_EnemyManager","_CanvasView","m_Player","Player","m_KeyView","KeyView","m_KeyListener","update","bind","m_CanvasView","m_EnemyManager","EnemyManager","loop","a_Keys","a_Self","move","enemies","m_Enemies","self","clearDraw","draw","enemy","j","m_Bullets","bullet","splice","window","requestAnimationFrame","./CanvasView.es6","./EnemyManager.es6","./KeyView.es6","./Player.es6","4","Enemy","_Bullet","a_Position","m_Rect","m_Width","m_Height","m_ApplyForceTimer","m_Spawn","m_ShootTimer","m_TriggerTimer","m_BulletCounter","m_CanShoot","PosA","PosB","returnValue","a_Vector","sqrt","a_Player","push","_bullet","./Bullet.es6","5","_Enemy","a_MatterEngine","m_EnemySpawnTimer","m_EnemySpawnTimerMax","spawnEnemy","enemyPos","./Enemy.es6","6","a_Controller","_this","onkeydown","onKeyDown","console","log","keyCode","keys","left","right","up","down","space","7","m_MoveForce","m_Speed","m_State","shootBullet","8","_Controller","addEventListener","./Controller.es6"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bullet = function () {\n    function Bullet(a_Posistion, a_Dimension) {\n        _classCallCheck(this, Bullet);\n\n        this.m_Position = { x: a_Posistion.x + a_Dimension.width / 2 - 5, y: a_Posistion.y };\n        this.m_Dimension = { width: 10, height: 10 };\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n        this.m_Alive = true;\n        this.m_XSpeed = Math.random() * 4 - 2;\n        this.m_YSpeed = Math.random() * 5;\n    }\n\n    _createClass(Bullet, [{\n        key: \"update\",\n        value: function update() {\n            this.m_Position.x += this.m_XSpeed;\n            this.m_Position.y += this.m_YSpeed;\n            if (this.m_Position.x - (this.m_Dimension.width + 20) > 640) {\n                this.m_Alive = false;\n            } else if (this.m_Position.x + (this.m_Dimension.width - 20) < 0) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y - (this.m_Dimension.height + 20) > 720) {\n                this.m_Alive = false;\n            } else if (this.m_Position.y + (this.m_Dimension.height - 20) < 0) {\n                this.m_Alive = false;\n            }\n        }\n    }]);\n\n    return Bullet;\n}();\n\nexports.Bullet = Bullet;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasView = function () {\n    function CanvasView() {\n        _classCallCheck(this, CanvasView);\n\n        this.m_Canvas = document.getElementById(\"m_Canvas\");\n        this.m_Context = this.m_Canvas.getContext(\"2d\");\n    }\n\n    _createClass(CanvasView, [{\n        key: \"clearDraw\",\n        value: function clearDraw() {\n            this.m_Context.clearRect(0, 0, 1280, 720);\n        }\n    }, {\n        key: \"draw\",\n        value: function draw(a_Pos, a_Dimensions) {\n            this.m_Context.fillRect(a_Pos.x, a_Pos.y, a_Dimensions.width, a_Dimensions.height);\n        }\n    }]);\n\n    return CanvasView;\n}();\n\nexports.CanvasView = CanvasView;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Controller = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _KeyView = require('./KeyView.es6');\n\nvar _Player = require('./Player.es6');\n\nvar _EnemyManager = require('./EnemyManager.es6');\n\nvar _CanvasView = require('./CanvasView.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.m_Player = new _Player.Player(); //CHANGE TO m_MATTERENGINE\n        this.m_KeyView = new _KeyView.KeyView(this);\n        this.m_KeyView.m_KeyListener = this.update;\n        this.m_KeyView.m_KeyListener.bind(this); //callback\n        this.m_CanvasView = new _CanvasView.CanvasView();\n        this.m_EnemyManager = new _EnemyManager.EnemyManager();\n        this.loop();\n    }\n\n    _createClass(Controller, [{\n        key: 'update',\n        value: function update(a_Keys, a_Self) {\n            a_Self.m_Player.move(a_Keys);\n        }\n    }, {\n        key: 'loop',\n        value: function loop() {\n            var enemies = this.m_EnemyManager.m_Enemies;\n            self = this;\n            this.m_Player.update();\n            this.m_EnemyManager.update(this.m_Player);\n            this.m_CanvasView.clearDraw();\n            this.m_CanvasView.draw(this.m_Player.m_Position, this.m_Player.m_Dimension);\n            for (var i in enemies) {\n                var enemy = enemies[i];\n                this.m_CanvasView.draw(enemy.m_Position, enemy.m_Dimension);\n                for (var j in enemy.m_Bullets) {\n                    var bullet = enemy.m_Bullets[j];\n                    if (!bullet.m_Alive) enemy.m_Bullets.splice(j, 1);\n                    this.m_CanvasView.draw(bullet.m_Position, bullet.m_Dimension);\n                }\n            }\n\n            window.requestAnimationFrame(function () {\n                self.loop();\n            });\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.Controller = Controller;\n\n},{\"./CanvasView.es6\":2,\"./EnemyManager.es6\":5,\"./KeyView.es6\":6,\"./Player.es6\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Enemy = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bullet = require('./Bullet.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Enemy = function () {\n    //Enemy constructor\n    function Enemy(a_Position) {\n        _classCallCheck(this, Enemy);\n\n        this.m_Position = a_Position;\n        this.m_Dimension = { width: 40, height: 40 };\n        this.m_Rect = {\n            x: this.m_Position.x,\n            y: this.m_Position.y,\n            width: this.m_Dimension.width,\n            height: this.m_Dimension.height\n        };\n        this.m_Width = 20;\n        this.m_Height = 40;\n        this.m_Bullets = [];\n        this.m_ApplyForceTimer = 0;\n        this.m_Spawn = true;\n        this.m_ShootTimer = 0;\n        this.m_TriggerTimer = 0;\n        this.m_BulletCounter = 0;\n        this.m_CanShoot = true;\n    }\n\n    _createClass(Enemy, [{\n        key: 'add',\n        value: function add(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x + PosB.x,\n                y: PosA.y + PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: 'sub',\n        value: function sub(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x - PosB.x,\n                y: PosA.y - PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: 'normalize',\n        value: function normalize(a_Vector) {\n\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n\n            var returnValue = {\n                x: a_Vector.x / length,\n                y: a_Vector.y / length\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: 'length',\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: 'update',\n        value: function update(a_Player) {\n            this.m_ShootTimer++;\n            if (this.m_BulletCounter >= 20) {\n                this.m_CanShoot = false;\n                this.m_ShootTimer = 0;\n                this.m_BulletCounter = 0;\n            }\n\n            if (this.m_ShootTimer == 100) {\n                this.m_CanShoot = true;\n            }\n            if (this.m_CanShoot) {\n                this.m_TriggerTimer++;\n                if (this.m_TriggerTimer >= 10) {\n                    var bullet = new _Bullet.Bullet(this.m_Position, this.m_Dimension);\n                    this.m_Bullets.push(bullet);\n                    this.m_TriggerTimer = 0;\n                    this.m_BulletCounter++;\n                }\n            }\n            for (var j in this.m_Bullets) {\n                var _bullet = this.m_Bullets[j];\n                _bullet.update();\n            }\n        }\n    }]);\n\n    return Enemy;\n}();\n\nexports.Enemy = Enemy;\n\n},{\"./Bullet.es6\":1}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.EnemyManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Enemy = require('./Enemy.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EnemyManager = function () {\n    function EnemyManager(a_MatterEngine) {\n        _classCallCheck(this, EnemyManager);\n\n        this.m_EnemySpawnTimer = 0;\n        this.m_EnemySpawnTimerMax = 100;\n        this.m_Enemies = [];\n    }\n\n    _createClass(EnemyManager, [{\n        key: 'update',\n        value: function update(a_Player) {\n            this.m_EnemySpawnTimer++;\n\n            if (this.m_EnemySpawnTimer == 100) {\n                {\n                    this.spawnEnemy();\n                    //this.m_EnemySpawnTimer = 0;\n                }\n            }\n            for (var i in this.m_Enemies) {\n                var enemy = this.m_Enemies[i];\n                enemy.update(a_Player);\n            }\n        }\n    }, {\n        key: 'spawnEnemy',\n        value: function spawnEnemy() {\n            var ranPos = Math.random() * 10;\n            var enemyPos = { x: 0, y: 0 };\n            enemyPos.x = Math.random() * 500;\n            enemyPos.y = Math.random() * 500;\n\n            this.m_Enemies.push(new _Enemy.Enemy(enemyPos));\n        }\n    }]);\n\n    return EnemyManager;\n}();\n\nexports.EnemyManager = EnemyManager;\n\n},{\"./Enemy.es6\":4}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KeyView = function () {\n    function KeyView(a_Controller) {\n        var _this = this;\n\n        _classCallCheck(this, KeyView);\n\n        window.onkeydown = function (e) {\n            _this.onKeyDown(e, a_Controller);\n        };\n        this.m_KeyListener;\n    }\n\n    _createClass(KeyView, [{\n        key: \"onKeyDown\",\n        value: function onKeyDown(e, a) {\n            console.log(e.keyCode);\n            var keys = {\n                left: e.keyCode === 37 || e.keyCode === 65, //true or false\n                right: e.keyCode === 39 || e.keyCode === 68, //true or false\n                up: e.keyCode === 38 || e.keyCode === 87, //true or false\n                down: e.keyCode === 40 || e.keyCode === 83, //true or false\n                space: e.keyCode === 32 //true or false\n            };\n            this.m_KeyListener(keys, a);\n        }\n    }]);\n\n    return KeyView;\n}();\n\nexports.KeyView = KeyView;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Player = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bullet = require(\"./Bullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(a_MatterEngine) {\n        _classCallCheck(this, Player);\n\n        this.m_Position = { x: 200, y: 200 };\n        this.m_Dimension = { width: 20, height: 20 };\n        this.m_Width = 20;\n        this.m_Height = 20;\n        this.m_MoveForce = 0.003;\n        this.m_Speed = 5;\n        this.m_State = \"Idle\";\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n        //this.m_RotateForce = 0.1;\n    }\n\n    _createClass(Player, [{\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"update\",\n        value: function update() {}\n    }, {\n        key: \"move\",\n        value: function move(a_Keys) {\n            if (a_Keys.right && this.m_CanApplyForce) {\n                this.m_Position.x += this.m_Speed;\n            }\n            if (a_Keys.left && this.m_CanApplyForce) {\n                this.m_Position.x -= this.m_Speed;\n            }\n            if (a_Keys.up && this.m_CanApplyForce) {\n                this.m_Position.y -= this.m_Speed;\n            }\n            if (a_Keys.down && this.m_CanApplyForce) {\n                this.m_Position.y += this.m_Speed;\n            }\n            if (a_Keys.space) {\n                this.shootBullet();\n            }\n        }\n    }, {\n        key: \"shootBullet\",\n        value: function shootBullet() {}\n    }]);\n\n    return Player;\n}();\n\nexports.Player = Player;\n\n},{\"./Bullet.es6\":1}],8:[function(require,module,exports){\n\"use strict\";\n\nvar _Controller = require(\"./Controller.es6\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var m_Controller = new _Controller.Controller();\n});\n\n},{\"./Controller.es6\":3}]},{},[8])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxCdWxsZXQuZXM2Iiwic3JjXFxqc1xcQ2FudmFzVmlldy5lczYiLCJzcmNcXGpzXFxDb250cm9sbGVyLmVzNiIsInNyY1xcanNcXEVuZW15LmVzNiIsInNyY1xcanNcXEVuZW15TWFuYWdlci5lczYiLCJzcmNcXGpzXFxLZXlWaWV3LmVzNiIsInNyY1xcanNcXFBsYXllci5lczYiLCJzcmNcXGpzXFxzY3JpcHQuZXM2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztJQ0FNLE07QUFFRixvQkFBWSxXQUFaLEVBQXlCLFdBQXpCLEVBQ0E7QUFBQTs7QUFDSSxhQUFLLFVBQUwsR0FBa0IsRUFBQyxHQUFHLFlBQVksQ0FBWixHQUFpQixZQUFZLEtBQVosR0FBb0IsQ0FBckMsR0FBMEMsQ0FBOUMsRUFBaUQsR0FBRyxZQUFZLENBQWhFLEVBQWxCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLEVBQUMsT0FBTyxFQUFSLEVBQVksUUFBUSxFQUFwQixFQUFuQjtBQUNBLGFBQUssV0FBTCxHQUFtQixpQkFBbkI7QUFDQSxhQUFLLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxhQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0EsYUFBSyxRQUFMLEdBQWlCLEtBQUssTUFBTCxLQUFnQixDQUFqQixHQUFvQixDQUFwQztBQUNBLGFBQUssUUFBTCxHQUFnQixLQUFLLE1BQUwsS0FBZ0IsQ0FBaEM7QUFDSDs7OztpQ0FJRDtBQUNJLGlCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxRQUExQjtBQUNBLGlCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxRQUExQjtBQUNBLGdCQUFHLEtBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLFdBQUwsQ0FBaUIsS0FBakIsR0FBeUIsRUFBOUMsSUFBb0QsR0FBdkQsRUFDQTtBQUNJLHFCQUFLLE9BQUwsR0FBZSxL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SSxnQkFBRyxPQUFPLEtBQVAsSUFBZ0IsS0FBSyxlQUF4QixFQUNBO0FBQ0kscUJBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLE9BQTFCO0FBQ0g7QUFDRCxnQkFBRyxPQUFPLElBQVAsSUFBZSxLQUFLLGVBQXZCLEVBQ0E7QUFDSSxxQkFBSyxVQUFMLENBQWdCLENBQWhCLElBQXFCLEtBQUssT0FBMUI7QUFDSDtBQUNELGdCQUFHLE9BQU8sRUFBUCxJQUFhLEtBQUssZUFBckIsRUFDQTtBQUNJLHFCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBcUIsS0FBSyxPQUExQjtBQUNIO0FBQ0QsZ0JBQUcsT0FBTyxJQUFQLElBQWUsS0FBSyxlQUF2QixFQUNBO0FBQ0kscUJBQUssVUFBTCxDQUFnQixDQUFoQixJQUFxQixLQUFLLE9BQTFCO0FBQ0g7QUFDRCxnQkFBRyxPQUFPLEtBQVYsRUFDQTtBQUNJLHFCQUFLLFdBQUw7QUFDSDtBQUNKOzs7c0NBR0QsQ0FFQzs7Ozs7O1FBSUcsTSxHQUFBLE07Ozs7O0FDN0RSOztBQUVBLFNBQVMsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFlBQUs7QUFDL0MsUUFBTSxlQUFlLDRCQUFyQjtBQUNILENBRkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY2xhc3MgQnVsbGV0XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKGFfUG9zaXN0aW9uLCBhX0RpbWVuc2lvbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSB7eDogYV9Qb3Npc3Rpb24ueCArIChhX0RpbWVuc2lvbi53aWR0aCAvIDIpIC0gNSwgeTogYV9Qb3Npc3Rpb24ueX07XHJcbiAgICAgICAgdGhpcy5tX0RpbWVuc2lvbiA9IHt3aWR0aDogMTAsIGhlaWdodDogMTB9O1xyXG4gICAgICAgIHRoaXMubV9GaWxsU3R5bGUgPSBcInJnYigyMDAsMjAwLDI4KVwiO1xyXG4gICAgICAgIHRoaXMubV9DYW5BcHBseUZvcmNlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1fQWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9YU3BlZWQgPSAoTWF0aC5yYW5kb20oKSAqIDQpLTI7XHJcbiAgICAgICAgdGhpcy5tX1lTcGVlZCA9IE1hdGgucmFuZG9tKCkgKiA1O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9Qb3NpdGlvbi54ICs9IHRoaXMubV9YU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnkgKz0gdGhpcy5tX1lTcGVlZDtcclxuICAgICAgICBpZih0aGlzLm1fUG9zaXRpb24ueCAtICh0aGlzLm1fRGltZW5zaW9uLndpZHRoICsgMjApID4gNjQwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0FsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoIHRoaXMubV9Qb3NpdGlvbi54ICsgKHRoaXMubV9EaW1lbnNpb24ud2lkdGggLSAyMCkgPCAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9BbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCB0aGlzLm1fUG9zaXRpb24ueSAtICh0aGlzLm1fRGltZW5zaW9uLmhlaWdodCArIDIwKSA+IDcyMCApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fQWxpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiggdGhpcy5tX1Bvc2l0aW9uLnkgKyAodGhpcy5tX0RpbWVuc2lvbi5oZWlnaHQgLSAyMCkgPCAwIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9BbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7QnVsbGV0fTsiLCJjbGFzcyBDYW52YXNWaWV3XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtX0NhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLm1fQ29udGV4dCA9IHRoaXMubV9DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyRHJhdygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIDEyODAsIDcyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhhX1BvcywgYV9EaW1lbnNpb25zKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9Db250ZXh0LmZpbGxSZWN0KGFfUG9zLngsIGFfUG9zLnksIGFfRGltZW5zaW9ucy53aWR0aCwgYV9EaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q2FudmFzVmlld30iLCJpbXBvcnQge0tleVZpZXd9IGZyb20gJy4vS2V5Vmlldy5lczYnO1xyXG5pbXBvcnQge1BsYXllcn0gZnJvbSAnLi9QbGF5ZXIuZXM2JztcclxuaW1wb3J0IHtFbmVteU1hbmFnZXJ9IGZyb20gJy4vRW5lbXlNYW5hZ2VyLmVzNic7XHJcbmltcG9ydCB7Q2FudmFzVmlld30gZnJvbSAnLi9DYW52YXNWaWV3LmVzNic7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyXHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUGxheWVyID0gbmV3IFBsYXllcigpOyAvL0NIQU5HRSBUTyBtX01BVFRFUkVOR0lORVxyXG4gICAgICAgIHRoaXMubV9LZXlWaWV3ID0gbmV3IEtleVZpZXcodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tX0tleVZpZXcubV9LZXlMaXN0ZW5lciA9IHRoaXMudXBkYXRlO1xyXG4gICAgICAgIHRoaXMubV9LZXlWaWV3Lm1fS2V5TGlzdGVuZXIuYmluZCh0aGlzKTsvL2NhbGxiYWNrXHJcbiAgICAgICAgdGhpcy5tX0NhbnZhc1ZpZXcgPSBuZXcgQ2FudmFzVmlldygpO1xyXG4gICAgICAgIHRoaXMubV9FbmVteU1hbmFnZXIgPSBuZXcgRW5lbXlNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5sb29wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGFfS2V5cywgYV9TZWxmKVxyXG4gICAge1xyXG4gICAgICAgIGFfU2VsZi5tX1BsYXllci5tb3ZlKGFfS2V5cyk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9vcCgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgZW5lbWllcyA9IHRoaXMubV9FbmVteU1hbmFnZXIubV9FbmVtaWVzO1xyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubV9QbGF5ZXIudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5tX0VuZW15TWFuYWdlci51cGRhdGUodGhpcy5tX1BsYXllcik7XHJcbiAgICAgICAgdGhpcy5tX0NhbnZhc1ZpZXcuY2xlYXJEcmF3KCk7XHJcbiAgICAgICAgdGhpcy5tX0NhbnZhc1ZpZXcuZHJhdyh0aGlzLm1fUGxheWVyLm1fUG9zaXRpb24sIHRoaXMubV9QbGF5ZXIubV9EaW1lbnNpb24pO1xyXG4gICAgICAgIGZvcihsZXQgaSBpbiBlbmVtaWVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZW5lbXkgPSBlbmVtaWVzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KGVuZW15Lm1fUG9zaXRpb24sIGVuZW15Lm1fRGltZW5zaW9uKTtcclxuICAgICAgICAgICAgZm9yKGxldCBqIGluIGVuZW15Lm1fQnVsbGV0cylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnVsbGV0ID0gZW5lbXkubV9CdWxsZXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgaWYoIWJ1bGxldC5tX0FsaXZlKVxyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15Lm1fQnVsbGV0cy5zcGxpY2UoaiwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KGJ1bGxldC5tX1Bvc2l0aW9uLCBidWxsZXQubV9EaW1lbnNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgc2VsZi5sb29wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29udHJvbGxlcn0iLCJpbXBvcnQge0J1bGxldH0gZnJvbSAnLi9CdWxsZXQuZXM2JztcclxuXHJcbmNsYXNzIEVuZW15IHtcclxuICAgIC8vRW5lbXkgY29uc3RydWN0b3JcclxuICAgIGNvbnN0cnVjdG9yKGFfUG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSBhX1Bvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMubV9EaW1lbnNpb24gPSB7d2lkdGg6IDQwLCBoZWlnaHQ6IDQwfTtcclxuICAgICAgICB0aGlzLm1fUmVjdCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5tX1Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMubV9Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5tX0RpbWVuc2lvbi53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1fRGltZW5zaW9uLmhlaWdodFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICB0aGlzLm1fSGVpZ2h0ID0gNDA7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fQXBwbHlGb3JjZVRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1fU3Bhd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9TaG9vdFRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1fVHJpZ2dlclRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0Q291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX0NhblNob290ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoUG9zQSwgUG9zQikge1xyXG5cclxuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgeDogUG9zQS54ICsgUG9zQi54LFxyXG4gICAgICAgICAgICB5OiBQb3NBLnkgKyBQb3NCLnlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN1YihQb3NBLCBQb3NCKSB7XHJcblxyXG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB4OiBQb3NBLnggLSBQb3NCLngsXHJcbiAgICAgICAgICAgIHk6IFBvc0EueSAtIFBvc0IueVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemUoYV9WZWN0b3IpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydChhX1ZlY3Rvci54KiBhX1ZlY3Rvci54ICsgYV9WZWN0b3IueSphX1ZlY3Rvci55KTtcclxuXHJcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHg6IGFfVmVjdG9yLngvbGVuZ3RoLFxyXG4gICAgICAgICAgICB5OiBhX1ZlY3Rvci55L2xlbmd0aFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKGFfVmVjdG9yKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydChhX1ZlY3Rvci54KiBhX1ZlY3Rvci54ICsgYV9WZWN0b3IueSphX1ZlY3Rvci55KTtcclxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShhX1BsYXllcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fU2hvb3RUaW1lcisrO1xyXG4gICAgICAgIGlmKHRoaXMubV9CdWxsZXRDb3VudGVyID49IDIwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0NhblNob290ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubV9TaG9vdFRpbWVyID0gMDtcclxuICAgICAgICAgICAgdGhpcy5tX0J1bGxldENvdW50ZXIgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tX1Nob290VGltZXIgPT0gMTAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tX0NhblNob290ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5tX0NhblNob290KSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9UcmlnZ2VyVGltZXIrKztcclxuICAgICAgICAgICAgaWYgKHRoaXMubV9UcmlnZ2VyVGltZXIgPj0gMTApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1bGxldCA9IG5ldyBCdWxsZXQodGhpcy5tX1Bvc2l0aW9uLCB0aGlzLm1fRGltZW5zaW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9CdWxsZXRzLnB1c2goYnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9UcmlnZ2VyVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0J1bGxldENvdW50ZXIrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGogaW4gdGhpcy5tX0J1bGxldHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXQgPSB0aGlzLm1fQnVsbGV0c1tqXTtcclxuICAgICAgICAgICAgYnVsbGV0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtFbmVteX07IiwiaW1wb3J0IHtFbmVteX0gZnJvbSAnLi9FbmVteS5lczYnO1xyXG5cclxuY2xhc3MgRW5lbXlNYW5hZ2VyXHJcbntcclxuICAgIGNvbnN0cnVjdG9yKGFfTWF0dGVyRW5naW5lKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMubV9FbmVteVNwYXduVGltZXJNYXggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5tX0VuZW1pZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9QbGF5ZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0VuZW15U3Bhd25UaW1lcisrO1xyXG5cclxuICAgICAgICBpZih0aGlzLm1fRW5lbXlTcGF3blRpbWVyID09IDEwMCl7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduRW5lbXkoKTtcclxuICAgICAgICAgICAgLy90aGlzLm1fRW5lbXlTcGF3blRpbWVyID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5tX0VuZW1pZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBlbmVteSA9IHRoaXMubV9FbmVtaWVzW2ldO1xyXG4gICAgICAgICAgICBlbmVteS51cGRhdGUoYV9QbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzcGF3bkVuZW15KClcclxuICAgIHtcclxuICAgICAgICBjb25zdCByYW5Qb3MgPSBNYXRoLnJhbmRvbSgpICogMTA7XHJcbiAgICAgICAgbGV0IGVuZW15UG9zID0ge3g6IDAsIHk6IDB9O1xyXG4gICAgICAgIGVuZW15UG9zLnggPSAoTWF0aC5yYW5kb20oKSAqIDUwMCk7XHJcbiAgICAgICAgZW5lbXlQb3MueSA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX0VuZW1pZXMucHVzaChuZXcgRW5lbXkoZW5lbXlQb3MpKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RW5lbXlNYW5hZ2VyfTsiLCJcclxuXHJcbmNsYXNzIEtleVZpZXdcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9Db250cm9sbGVyKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvdy5vbmtleWRvd24gPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uS2V5RG93bihlLCBhX0NvbnRyb2xsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXI7XHJcbiAgICB9XHJcblxyXG4gICAgb25LZXlEb3duKGUsIGEpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5rZXlDb2RlKTtcclxuICAgICAgICBjb25zdCBrZXlzID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBlLmtleUNvZGUgPT09IDM3IHx8IGUua2V5Q29kZSA9PT0gNjUsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgcmlnaHQ6IGUua2V5Q29kZSA9PT0gMzkgfHwgZS5rZXlDb2RlID09PSA2OCwgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgICAgIHVwOiBlLmtleUNvZGUgPT09IDM4IHx8IGUua2V5Q29kZSA9PT0gODcsICAgICAgIC8vdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgICAgICBkb3duOiBlLmtleUNvZGUgPT09IDQwIHx8IGUua2V5Q29kZSA9PT0gODMsICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgc3BhY2U6IGUua2V5Q29kZSA9PT0gMzIgICAgICAgICAgICAgICAgICAgICAgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXIoa2V5cywgYSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7S2V5Vmlld307IiwiaW1wb3J0IHtCdWxsZXR9IGZyb20gXCIuL0J1bGxldC5lczZcIjtcclxuXHJcbmNsYXNzIFBsYXllclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX01hdHRlckVuZ2luZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSB7IHg6IDIwMCwgeTogMjAwfTtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0geyB3aWR0aDogMjAsIGhlaWdodDogMjAgfTtcclxuICAgICAgICB0aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICB0aGlzLm1fSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgdGhpcy5tX01vdmVGb3JjZSA9IDAuMDAzO1xyXG4gICAgICAgIHRoaXMubV9TcGVlZCA9IDU7XHJcbiAgICAgICAgdGhpcy5tX1N0YXRlID0gXCJJZGxlXCI7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fRmlsbFN0eWxlID0gXCJyZ2IoMjAwLDIwMCwyOClcIjtcclxuICAgICAgICB0aGlzLm1fQ2FuQXBwbHlGb3JjZSA9IHRydWU7XHJcbiAgICAgICAgLy90aGlzLm1fUm90YXRlRm9yY2UgPSAwLjE7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKGFfVmVjdG9yKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydChhX1ZlY3Rvci54KiBhX1ZlY3Rvci54ICsgYV9WZWN0b3IueSphX1ZlY3Rvci55KTtcclxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoYV9LZXlzKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGFfS2V5cy5yaWdodCAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi54ICs9IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLmxlZnQgJiYgdGhpcy5tX0NhbkFwcGx5Rm9yY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fUG9zaXRpb24ueCAtPSB0aGlzLm1fU3BlZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGFfS2V5cy51cCAmJiB0aGlzLm1fQ2FuQXBwbHlGb3JjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qb3NpdGlvbi55IC09IHRoaXMubV9TcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYV9LZXlzLmRvd24gJiYgdGhpcy5tX0NhbkFwcGx5Rm9yY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1fUG9zaXRpb24ueSArPSB0aGlzLm1fU3BlZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGFfS2V5cy5zcGFjZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvb3RCdWxsZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvb3RCdWxsZXQoKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7UGxheWVyfTsiLCJpbXBvcnQge0NvbnRyb2xsZXJ9IGZyb20gJy4vQ29udHJvbGxlci5lczYnO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiB7XHJcbiAgICBjb25zdCBtX0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcigpO1xyXG59KTsiXX0=\n"],"sourceRoot":"/source/"}