{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Bullet","a_Posistion","this","console","log","m_Position","m_Dimension","width","height","m_Width","m_Height","m_Bullets","m_FillStyle","m_CanApplyForce","a_Context","y","2","CanvasView","m_Canvas","document","getElementById","m_Context","getContext","clearRect","a_Pos","a_Dimensions","fillRect","x","3","Controller","undefined","_KeyView","_Player","_EnemyManager","_CanvasView","m_Player","Player","m_KeyView","KeyView","m_KeyListener","update","bind","m_CanvasView","m_EnemyManager","EnemyManager","loop","a_Keys","a_Self","move","enemies","m_Enemies","self","clearDraw","draw","enemy","j","bullet","window","requestAnimationFrame","./CanvasView.es6","./EnemyManager.es6","./KeyView.es6","./Player.es6","4","Enemy","a_Position","m_ApplyForceTimer","m_Spawn","m_BulletTimer","PosA","PosB","returnValue","a_Vector","Math","sqrt","a_Player","push","5","_Enemy","a_MatterEngine","m_EnemySpawnTimer","m_EnemySpawnTimerMax","spawnEnemy","ranPos","random","enemyPos","./Enemy.es6","6","a_Controller","_this","onkeydown","onKeyDown","keyCode","keys","left","right","up","space","7","m_MoveForce","m_State","m_RotateForce","shootBullet","./Bullet.es6","8","_Controller","addEventListener","./Controller.es6"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bullet = function () {\n    function Bullet(a_Posistion) {\n        _classCallCheck(this, Bullet);\n\n        console.log(a_Posistion);\n        this.m_Position = a_Posistion;\n        this.m_Dimension = { width: 10, height: 10 };\n        this.m_Width = 20;\n        this.m_Height = 20;\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(200,200,28)\";\n\n        this.m_CanApplyForce = true;\n    }\n\n    _createClass(Bullet, [{\n        key: \"draw\",\n        value: function draw(a_Context) {}\n    }, {\n        key: \"update\",\n        value: function update() {\n            // switch(this.m_State)\n            // {\n            //\n            // }\n\n\n            this.m_Position.y += 3;\n        }\n    }]);\n\n    return Bullet;\n}();\n\nexports.Bullet = Bullet;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasView = function () {\n    function CanvasView() {\n        _classCallCheck(this, CanvasView);\n\n        this.m_Canvas = document.getElementById(\"m_Canvas\");\n        this.m_Context = this.m_Canvas.getContext(\"2d\");\n    }\n\n    _createClass(CanvasView, [{\n        key: \"clearDraw\",\n        value: function clearDraw() {\n            this.m_Context.clearRect(0, 0, 1280, 720);\n        }\n    }, {\n        key: \"draw\",\n        value: function draw(a_Pos, a_Dimensions) {\n            this.m_Context.fillRect(a_Pos.x, a_Pos.y, a_Dimensions.width, a_Dimensions.height);\n        }\n    }]);\n\n    return CanvasView;\n}();\n\nexports.CanvasView = CanvasView;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Controller = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _KeyView = require('./KeyView.es6');\n\nvar _Player = require('./Player.es6');\n\nvar _EnemyManager = require('./EnemyManager.es6');\n\nvar _CanvasView = require('./CanvasView.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.m_Player = new _Player.Player(); //CHANGE TO m_MATTERENGINE\n        this.m_KeyView = new _KeyView.KeyView(this);\n        this.m_KeyView.m_KeyListener = this.update;\n        this.m_KeyView.m_KeyListener.bind(this); //callback\n        this.m_CanvasView = new _CanvasView.CanvasView();\n        this.m_EnemyManager = new _EnemyManager.EnemyManager();\n        this.loop();\n    }\n\n    _createClass(Controller, [{\n        key: 'update',\n        value: function update(a_Keys, a_Self) {\n            a_Self.m_Player.move(a_Keys);\n        }\n    }, {\n        key: 'loop',\n        value: function loop() {\n            var enemies = this.m_EnemyManager.m_Enemies;\n            self = this;\n            this.m_Player.update();\n            this.m_EnemyManager.update(this.m_Player);\n            this.m_CanvasView.clearDraw();\n            this.m_CanvasView.draw(this.m_Player.m_Position, this.m_Player.m_Dimension);\n            for (var i in enemies) {\n                var enemy = enemies[i];\n                this.m_CanvasView.draw(enemy.m_Position, enemy.m_Dimension);\n                for (var j in enemy.m_Bullets) {\n                    var bullet = enemy.m_Bullets[j];\n                    this.m_CanvasView.draw(bullet.m_Position, bullet.m_Dimension);\n                }\n            }\n\n            window.requestAnimationFrame(function () {\n                self.loop();\n            });\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.Controller = Controller;\n\n},{\"./CanvasView.es6\":2,\"./EnemyManager.es6\":5,\"./KeyView.es6\":6,\"./Player.es6\":7}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Enemy = function () {\n    //Enemy constructor\n    function Enemy(a_Position) {\n        _classCallCheck(this, Enemy);\n\n        this.m_Position = a_Position;\n        this.m_Dimension = { width: 40, height: 40 };\n        this.m_Width = 20;\n        this.m_Height = 40;\n        this.m_Bullets = [];\n        this.m_ApplyForceTimer = 0;\n        this.m_Spawn = true;\n        this.m_BulletTimer = 0;\n    }\n\n    _createClass(Enemy, [{\n        key: \"add\",\n        value: function add(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x + PosB.x,\n                y: PosA.y + PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"sub\",\n        value: function sub(PosA, PosB) {\n\n            var returnValue = {\n                x: PosA.x - PosB.x,\n                y: PosA.y - PosB.y\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"normalize\",\n        value: function normalize(a_Vector) {\n\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n\n            var returnValue = {\n                x: a_Vector.x / length,\n                y: a_Vector.y / length\n            };\n\n            return returnValue;\n        }\n    }, {\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"update\",\n        value: function update(a_Player) {\n            this.m_BulletTimer++;\n            if (this.m_BulletTimer == 100) {\n                console.log(\"shoot\");\n                for (var i = 0; i < 20; i++) {\n                    console.log(this.m_Position);\n                    this.m_Bullets.push(this.m_Position);\n                }\n            }\n        }\n    }]);\n\n    return Enemy;\n}();\n\nexports.Enemy = Enemy;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.EnemyManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Enemy = require('./Enemy.es6');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EnemyManager = function () {\n    function EnemyManager(a_MatterEngine) {\n        _classCallCheck(this, EnemyManager);\n\n        this.m_EnemySpawnTimer = 0;\n        this.m_EnemySpawnTimerMax = 100;\n        this.m_Enemies = [];\n    }\n\n    _createClass(EnemyManager, [{\n        key: 'update',\n        value: function update(a_Player) {\n            this.m_EnemySpawnTimer++;\n\n            if (this.m_EnemySpawnTimer == 100) {\n                {\n                    this.spawnEnemy();\n                    //this.m_EnemySpawnTimer = 0;\n                }\n            }\n            for (var i in this.m_Enemies) {\n                var enemy = this.m_Enemies[i];\n                enemy.update(a_Player);\n            }\n        }\n    }, {\n        key: 'spawnEnemy',\n        value: function spawnEnemy() {\n            var ranPos = Math.random() * 10;\n            var enemyPos = { x: 0, y: 0 };\n            if (ranPos >= 0 && ranPos < 2.5) //RIGHT\n                {\n                    enemyPos.x = 520;\n                    enemyPos.y = Math.random() * 500;\n                } else if (ranPos >= 2.5 && ranPos < 5) //LEFT\n                {\n                    enemyPos.x = -20;\n                    enemyPos.y = Math.random() * 500;\n                } else if (ranPos >= 5 && ranPos < 7.5) //TOP\n                {\n                    enemyPos.x = Math.random() * 500;\n                    enemyPos.y = -20;\n                } else if (ranPos >= 7.5 && ranPos < 10) //DOWN\n                {\n                    enemyPos.x = Math.random() * 500;\n                    enemyPos.y = 520;\n                }\n            this.m_Enemies.push(new _Enemy.Enemy(enemyPos));\n        }\n    }]);\n\n    return EnemyManager;\n}();\n\nexports.EnemyManager = EnemyManager;\n\n},{\"./Enemy.es6\":4}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KeyView = function () {\n    function KeyView(a_Controller) {\n        var _this = this;\n\n        _classCallCheck(this, KeyView);\n\n        window.onkeydown = function (e) {\n            _this.onKeyDown(e, a_Controller);\n        };\n        this.m_KeyListener;\n    }\n\n    _createClass(KeyView, [{\n        key: \"onKeyDown\",\n        value: function onKeyDown(e, a) {\n            console.log(e.keyCode);\n            var keys = {\n                left: e.keyCode === 37 || e.keyCode === 65, //true or false\n                right: e.keyCode === 39 || e.keyCode === 68, //true or false\n                up: e.keyCode === 38 || e.keyCode === 87, //true or false\n                space: e.keyCode === 32 //true or false\n            };\n            this.m_KeyListener(keys, a);\n        }\n    }]);\n\n    return KeyView;\n}();\n\nexports.KeyView = KeyView;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Player = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Bullet = require(\"./Bullet.es6\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(a_MatterEngine) {\n        _classCallCheck(this, Player);\n\n        this.m_Position = { x: 200, y: 200 };\n        this.m_Dimension = { width: 20, height: 20 };\n        this.m_Width = 20;\n        this.m_Height = 20;\n        this.m_MoveForce = 0.003;\n        this.m_State = \"Idle\";\n        this.m_Bullets = [];\n        this.m_FillStyle = \"rgb(200,200,28)\";\n        this.m_CanApplyForce = true;\n        this.m_RotateForce = 0.1;\n    }\n\n    _createClass(Player, [{\n        key: \"length\",\n        value: function length(a_Vector) {\n            var length = Math.sqrt(a_Vector.x * a_Vector.x + a_Vector.y * a_Vector.y);\n            return length;\n        }\n    }, {\n        key: \"update\",\n        value: function update() {}\n    }, {\n        key: \"move\",\n        value: function move(a_Keys) {\n            if (a_Keys.right && this.m_CanApplyForce) {}\n            if (a_Keys.left && this.m_CanApplyForce) {}\n            if (a_Keys.up) {}\n            if (a_Keys.space) {\n                this.shootBullet();\n            }\n        }\n    }, {\n        key: \"shootBullet\",\n        value: function shootBullet() {}\n    }]);\n\n    return Player;\n}();\n\nexports.Player = Player;\n\n},{\"./Bullet.es6\":1}],8:[function(require,module,exports){\n\"use strict\";\n\nvar _Controller = require(\"./Controller.es6\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var m_Controller = new _Controller.Controller();\n});\n\n},{\"./Controller.es6\":3}]},{},[8])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxCdWxsZXQuZXM2Iiwic3JjXFxqc1xcQ2FudmFzVmlldy5lczYiLCJzcmNcXGpzXFxDb250cm9sbGVyLmVzNiIsInNyY1xcanNcXEVuZW15LmVzNiIsInNyY1xcanNcXEVuZW15TWFuYWdlci5lczYiLCJzcmNcXGpzXFxLZXlWaWV3LmVzNiIsInNyY1xcanNcXFBsYXllci5lczYiLCJzcmNcXGpzXFxzY3JpcHQuZXM2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztJQ0FNLE07QUFFRixvQkFBWSxXQUFaLEVBQ0E7QUFBQTs7QUFDSSxnQkFBUSxHQUFSLENBQVksV0FBWjtBQUNBLGFBQUssVUFBTCxHQUFrQixXQUFsQjtBQUNBLGFBQUssV0FBTCxHQUFtQixFQUFDLE9BQU8sRUFBUixFQUFZLFFBQVEsRUFBcEIsRUFBbkI7QUFDQSxhQUFLLE9BQUwsR0FBZSxFQUFmO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsYUFBSyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsYUFBSyxXQUFMLEdBQW1CLGlCQUFuQjs7QUFFQSxhQUFLLGVBQUwsR0FBdUIsSUFBdkI7QUFDSDs7Ozs2QkFFSSxTLEVBQ0wsQ0FFQzs7O2lDQUdEO0FBQ0k7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLGlCQUFLLFVBQUwsQ0FBZ0IsQ0FBaEIsSUFBbUIsQ0FBbkI7QUFFSDs7Ozs7O1FBSUcsTSxHQUFBLE07Ozs7Ozs7Ozs7Ozs7SUNsQ0YsVTtBQUVGLDBCQUNBO0FBQUE7O0FBQ0ksYUFBSyxRQUFMLEdBQWdCLFNBQVMsY0FBVCxDQUF3QixVQUF4QixDQUFoQjtBQUNBLGFBQUssU0FBTCxHQUFpQixLQUFLLFFBQUwsQ0FBYyxVQUFkLENBQXlCLElBQXpCLENBQWpCO0FBQ0g7Ozs7b0NBR0Q7QUFDSSxpQkFBSyxTQUFMLENBQWUsU0FBZixDQUF5QixDQUF6QixFQUE0QixDQUE1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TDtBQUNJLGdCQUFHLE9BQU8sS0FBUCxJQUFnQixLQUFLLGVBQXhCLEVBQ0EsQ0FFQztBQUNELGdCQUFHLE9BQU8sSUFBUCxJQUFlLEtBQUssZUFBdkIsRUFDQSxDQUVDO0FBQ0QsZ0JBQUcsT0FBTyxFQUFWLEVBQ0EsQ0FFQztBQUNELGdCQUFHLE9BQU8sS0FBVixFQUNBO0FBQ0kscUJBQUssV0FBTDtBQUNIO0FBQ0o7OztzQ0FHRCxDQUVDOzs7Ozs7UUFJRyxNLEdBQUEsTTs7Ozs7QUN4RFI7O0FBRUEsU0FBUyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBSztBQUMvQyxRQUFNLGVBQWUsNEJBQXJCO0FBQ0gsQ0FGRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjbGFzcyBCdWxsZXRcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9Qb3Npc3Rpb24pXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYV9Qb3Npc3Rpb24pO1xyXG4gICAgICAgIHRoaXMubV9Qb3NpdGlvbiA9IGFfUG9zaXN0aW9uO1xyXG4gICAgICAgIHRoaXMubV9EaW1lbnNpb24gPSB7d2lkdGg6IDEwLCBoZWlnaHQ6IDEwfTtcclxuICAgICAgICB0aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICB0aGlzLm1fSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgdGhpcy5tX0J1bGxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1fRmlsbFN0eWxlID0gXCJyZ2IoMjAwLDIwMCwyOClcIjtcclxuXHJcbiAgICAgICAgdGhpcy5tX0NhbkFwcGx5Rm9yY2UgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoYV9Db250ZXh0KVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHN3aXRjaCh0aGlzLm1fU3RhdGUpXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uLnkrPTM7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtCdWxsZXR9OyIsImNsYXNzIENhbnZhc1ZpZXdcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1fQ2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMubV9Db250ZXh0ID0gdGhpcy5tX0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJEcmF3KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgMTI4MCwgNzIwKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGFfUG9zLCBhX0RpbWVuc2lvbnMpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0NvbnRleHQuZmlsbFJlY3QoYV9Qb3MueCwgYV9Qb3MueSwgYV9EaW1lbnNpb25zLndpZHRoLCBhX0RpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDYW52YXNWaWV3fSIsImltcG9ydCB7S2V5Vmlld30gZnJvbSAnLi9LZXlWaWV3LmVzNic7XHJcbmltcG9ydCB7UGxheWVyfSBmcm9tICcuL1BsYXllci5lczYnO1xyXG5pbXBvcnQge0VuZW15TWFuYWdlcn0gZnJvbSAnLi9FbmVteU1hbmFnZXIuZXM2JztcclxuaW1wb3J0IHtDYW52YXNWaWV3fSBmcm9tICcuL0NhbnZhc1ZpZXcuZXM2JztcclxuXHJcbmNsYXNzIENvbnRyb2xsZXJcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9QbGF5ZXIgPSBuZXcgUGxheWVyKCk7IC8vQ0hBTkdFIFRPIG1fTUFUVEVSRU5HSU5FXHJcbiAgICAgICAgdGhpcy5tX0tleVZpZXcgPSBuZXcgS2V5Vmlldyh0aGlzKTtcclxuICAgICAgICB0aGlzLm1fS2V5Vmlldy5tX0tleUxpc3RlbmVyID0gdGhpcy51cGRhdGU7XHJcbiAgICAgICAgdGhpcy5tX0tleVZpZXcubV9LZXlMaXN0ZW5lci5iaW5kKHRoaXMpOy8vY2FsbGJhY2tcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldyA9IG5ldyBDYW52YXNWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5tX0VuZW15TWFuYWdlciA9IG5ldyBFbmVteU1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoYV9LZXlzLCBhX1NlbGYpXHJcbiAgICB7XHJcbiAgICAgICAgYV9TZWxmLm1fUGxheWVyLm1vdmUoYV9LZXlzKTtcclxuICAgIH1cclxuXHJcbiAgICBsb29wKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBlbmVtaWVzID0gdGhpcy5tX0VuZW15TWFuYWdlci5tX0VuZW1pZXM7XHJcbiAgICAgICAgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5tX1BsYXllci51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLm1fRW5lbXlNYW5hZ2VyLnVwZGF0ZSh0aGlzLm1fUGxheWVyKTtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5jbGVhckRyYXcoKTtcclxuICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KHRoaXMubV9QbGF5ZXIubV9Qb3NpdGlvbiwgdGhpcy5tX1BsYXllci5tX0RpbWVuc2lvbik7XHJcbiAgICAgICAgZm9yKGxldCBpIGluIGVuZW1pZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBlbmVteSA9IGVuZW1pZXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMubV9DYW52YXNWaWV3LmRyYXcoZW5lbXkubV9Qb3NpdGlvbiwgZW5lbXkubV9EaW1lbnNpb24pO1xyXG4gICAgICAgICAgICBmb3IobGV0IGogaW4gZW5lbXkubV9CdWxsZXRzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWxsZXQgPSBlbmVteS5tX0J1bGxldHNbal07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ2FudmFzVmlldy5kcmF3KGJ1bGxldC5tX1Bvc2l0aW9uLCBidWxsZXQubV9EaW1lbnNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgc2VsZi5sb29wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29udHJvbGxlcn0iLCJjbGFzcyBFbmVteSB7XHJcbiAgICAvL0VuZW15IGNvbnN0cnVjdG9yXHJcbiAgICBjb25zdHJ1Y3RvcihhX1Bvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5tX1Bvc2l0aW9uID0gYV9Qb3NpdGlvbjtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0ge3dpZHRoOiA0MCwgaGVpZ2h0OiA0MH07XHJcbiAgICAgICAgdGhpcy5tX1dpZHRoID0gMjA7XHJcbiAgICAgICAgdGhpcy5tX0hlaWdodCA9IDQwO1xyXG4gICAgICAgIHRoaXMubV9CdWxsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5tX0FwcGx5Rm9yY2VUaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX1NwYXduID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1fQnVsbGV0VGltZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChQb3NBLCBQb3NCKSB7XHJcblxyXG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB4OiBQb3NBLnggKyBQb3NCLngsXHJcbiAgICAgICAgICAgIHk6IFBvc0EueSArIFBvc0IueVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3ViKFBvc0EsIFBvc0IpIHtcclxuXHJcbiAgICAgICAgbGV0IHJldHVyblZhbHVlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHg6IFBvc0EueCAtIFBvc0IueCxcclxuICAgICAgICAgICAgeTogUG9zQS55IC0gUG9zQi55XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIG5vcm1hbGl6ZShhX1ZlY3RvcilcclxuICAgIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGFfVmVjdG9yLngqIGFfVmVjdG9yLnggKyBhX1ZlY3Rvci55KmFfVmVjdG9yLnkpO1xyXG5cclxuICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgeDogYV9WZWN0b3IueC9sZW5ndGgsXHJcbiAgICAgICAgICAgIHk6IGFfVmVjdG9yLnkvbGVuZ3RoXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoYV9WZWN0b3IpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGFfVmVjdG9yLngqIGFfVmVjdG9yLnggKyBhX1ZlY3Rvci55KmFfVmVjdG9yLnkpO1xyXG4gICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGFfUGxheWVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubV9CdWxsZXRUaW1lcisrO1xyXG4gICAgICAgIGlmKHRoaXMubV9CdWxsZXRUaW1lciA9PSAxMDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNob290XCIpXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1fUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0J1bGxldHMucHVzaCh0aGlzLm1fUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0VuZW15fTsiLCJpbXBvcnQge0VuZW15fSBmcm9tICcuL0VuZW15LmVzNic7XHJcblxyXG5jbGFzcyBFbmVteU1hbmFnZXJcclxue1xyXG4gICAgY29uc3RydWN0b3IoYV9NYXR0ZXJFbmdpbmUpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tX0VuZW15U3Bhd25UaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5tX0VuZW15U3Bhd25UaW1lck1heCA9IDEwMDtcclxuICAgICAgICB0aGlzLm1fRW5lbWllcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShhX1BsYXllcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fRW5lbXlTcGF3blRpbWVyKys7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9FbmVteVNwYXduVGltZXIgPT0gMTAwKXtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Bhd25FbmVteSgpO1xyXG4gICAgICAgICAgICAvL3RoaXMubV9FbmVteVNwYXduVGltZXIgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLm1fRW5lbWllcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5tX0VuZW1pZXNbaV07XHJcbiAgICAgICAgICAgIGVuZW15LnVwZGF0ZShhX1BsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNwYXduRW5lbXkoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHJhblBvcyA9IE1hdGgucmFuZG9tKCkgKiAxMDtcclxuICAgICAgICBsZXQgZW5lbXlQb3MgPSB7eDogMCwgeTogMH07XHJcbiAgICAgICAgaWYocmFuUG9zID49IDAgJiYgcmFuUG9zIDwgMi41KS8vUklHSFRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnggPSA1MjA7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnkgPSAoTWF0aC5yYW5kb20oKSAqIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYocmFuUG9zID49IDIuNSAmJiByYW5Qb3MgPCA1KS8vTEVGVFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZW5lbXlQb3MueCA9IC0yMDtcclxuICAgICAgICAgICAgZW5lbXlQb3MueSA9IChNYXRoLnJhbmRvbSgpICogNTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihyYW5Qb3MgPj0gNSAmJiByYW5Qb3MgPCA3LjUpLy9UT1BcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnggPSAoTWF0aC5yYW5kb20oKSAqIDUwMCk7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnkgPSAtMjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYocmFuUG9zID49IDcuNSAmJiByYW5Qb3MgPCAxMCkvL0RPV05cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnggPSAoTWF0aC5yYW5kb20oKSAqIDUwMCk7XHJcbiAgICAgICAgICAgIGVuZW15UG9zLnkgPSA1MjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubV9FbmVtaWVzLnB1c2gobmV3IEVuZW15KGVuZW15UG9zKSk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0VuZW15TWFuYWdlcn07IiwiXHJcblxyXG5jbGFzcyBLZXlWaWV3XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKGFfQ29udHJvbGxlcilcclxuICAgIHtcclxuICAgICAgICB3aW5kb3cub25rZXlkb3duID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbktleURvd24oZSwgYV9Db250cm9sbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tX0tleUxpc3RlbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIG9uS2V5RG93bihlLCBhKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUua2V5Q29kZSk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IHtcclxuICAgICAgICAgICAgbGVmdDogZS5rZXlDb2RlID09PSAzNyB8fCBlLmtleUNvZGUgPT09IDY1LCAgICAgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgICAgIHJpZ2h0OiBlLmtleUNvZGUgPT09IDM5IHx8IGUua2V5Q29kZSA9PT0gNjgsICAgIC8vdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgICAgICB1cDogZS5rZXlDb2RlID09PSAzOCB8fCBlLmtleUNvZGUgPT09IDg3LCAgICAgICAvL3RydWUgb3IgZmFsc2VcclxuICAgICAgICAgICAgc3BhY2U6IGUua2V5Q29kZSA9PT0gMzIgLy90cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1fS2V5TGlzdGVuZXIoa2V5cywgYSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7S2V5Vmlld307IiwiaW1wb3J0IHtCdWxsZXR9IGZyb20gXCIuL0J1bGxldC5lczZcIjtcclxuXHJcbmNsYXNzIFBsYXllclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihhX01hdHRlckVuZ2luZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1fUG9zaXRpb24gPSB7IHg6IDIwMCwgeTogMjAwfTtcclxuICAgICAgICB0aGlzLm1fRGltZW5zaW9uID0geyB3aWR0aDogMjAsIGhlaWdodDogMjAgfTtcclxuICAgICAgICB0aGlzLm1fV2lkdGggPSAyMDtcclxuICAgICAgICB0aGlzLm1fSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgdGhpcy5tX01vdmVGb3JjZSA9IDAuMDAzO1xyXG4gICAgICAgIHRoaXMubV9TdGF0ZSA9IFwiSWRsZVwiO1xyXG4gICAgICAgIHRoaXMubV9CdWxsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5tX0ZpbGxTdHlsZSA9IFwicmdiKDIwMCwyMDAsMjgpXCI7XHJcbiAgICAgICAgdGhpcy5tX0NhbkFwcGx5Rm9yY2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9Sb3RhdGVGb3JjZSA9IDAuMTtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoYV9WZWN0b3IpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGFfVmVjdG9yLngqIGFfVmVjdG9yLnggKyBhX1ZlY3Rvci55KmFfVmVjdG9yLnkpO1xyXG4gICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShhX0tleXMpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoYV9LZXlzLnJpZ2h0ICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGFfS2V5cy5sZWZ0ICYmIHRoaXMubV9DYW5BcHBseUZvcmNlKVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGFfS2V5cy51cClcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhX0tleXMuc3BhY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNob290QnVsbGV0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob290QnVsbGV0KClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1BsYXllcn07IiwiaW1wb3J0IHtDb250cm9sbGVyfSBmcm9tICcuL0NvbnRyb2xsZXIuZXM2JztcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpPT4ge1xyXG4gICAgY29uc3QgbV9Db250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcclxufSk7Il19\n"],"sourceRoot":"/source/"}